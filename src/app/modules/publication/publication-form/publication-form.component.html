<mat-card class=" m-7">
	<mat-card-title>Publication`s form</mat-card-title>
	<mat-card-subtitle>Form of publication</mat-card-subtitle>

	<mat-divider></mat-divider>

	<mat-card-content>

		<ng-container *ngIf="(available.no_data)">No data</ng-container>

		<ng-container *ngIf="(!available.no_data && available.form_builder && !available.publication_type_loaded && !publicationFormMetadata)">
			<app-loader></app-loader>
		</ng-container>

		<ng-container [formGroup]="forms" *ngIf="(!available.no_data && available.form_builder && available.publication_type_loaded && publicationFormMetadata)">

			<!-- No grid system -->
			<ng-container *ngIf="(available.grid_system.type === 'no_grid_system' || available.grid_system.type === 'default')">
				<app-publication-form-grid-systems-default [available]="available" [selectOptions]="selectOptions" [forms_metadata]="publicationFormMetadata.forms" [uniqueFalseCheckField]="uniqueFalseCheckField" (onPublicationTypeSelected)="onPublicationTypeSlctSelect($event)" (onFormCancelButtonClicked)="onFormCancelButtonClick()" (onFormSubmitButtonClicked)="onFormSubmitButtonClick()"></app-publication-form-grid-systems-default>
			</ng-container>

			<!-- Material grid system -->
			<ng-container *ngIf="(available.grid_system.type === 'material')">
				<form>

					<mat-grid-list [cols]="available.grid_system.cols" [rowHeight]="'75px'" [gutterSize]="'15px'">

						<mat-grid-tile [colspan]="12" [rowspan]="1">
							<div class="mat-grid-tile-container">
								<mat-form-field appearance="outline" [color]="'accent'">
									<mat-label>Publication type</mat-label>
									<mat-select [formControlName]="'publication_type_uuid'" (selectionChange)="onPublicationTypeSlctSelect($event)">
										<ng-container *ngFor="let publicationType of selectOptions['publication_type'].items; let publicationTypeIndex = index;">
											<mat-option [value]="publicationType.uuid">{{ publicationType.publication_type_name + ' [ ' + publicationType.publication_type_code + ' ]' }}</mat-option>
										</ng-container>
									</mat-select>
								</mat-form-field>
							</div>
						</mat-grid-tile>

						<!--<mat-grid-tile [colspan]="12" [rowspan]="1" [style.height]="'100%'">

							<mat-form-field appearance="outline" [color]="'accent'">
								<mat-label>Publication type</mat-label>
								<ngx-select
									class="form-control"
									id="publication_type_uuid"
									placeholder="-- Choose publication type --"
									[formControlName]="'publication_type_uuid'"
									[items]="selectOptions['publication_type'].items"
									[optionTextField]="'publication_type_name'"
									[optionValueField]="'uuid'"
									[defaultValue]="selectOptions['publication_type'].defaultValue"
									(selectionChanges)="onPublicationTypeClick($event)"
								></ngx-select>
							</mat-form-field>

						</mat-grid-tile>-->

						<!-- Show no data information if forms meta data is empty -->
						<ng-container *ngIf="(available.form_metadata_no_data)">
							<mat-grid-tile [colspan]="12" [rowspan]="4">

								<div class="mat-grid-tile-container h-50" align="center">
									<i class="material-icons text-9xl">warning_amber</i>

									<div class="grid grid-cols-1">
										<span class="text-xl font-medium">No data</span>
										<span class="text-xl">No form data is displayed, please select another type of publication or back.</span>
									</div>

								</div>

								<button mat-stroked-button class="flex-initial w-32" (click)="onBackButtonClick()">Back</button>

							</mat-grid-tile>
						</ng-container>

						<!-- Show loader if forms meta data is available and is in progress -->
						<ng-container *ngIf="(available.publication_type_selected && !available.form_metadata_loaded && !available.form_metadata_no_data)">
							<mat-grid-tile [colspan]="12" [rowspan]="2">
								<div class="mat-grid-tile-container">
									<app-loader></app-loader>
								</div>
							</mat-grid-tile>
						</ng-container>

						<!-- Show forms recursively -->
						<ng-container *ngIf="(available.publication_type_selected && available.form_metadata_loaded && !available.form_metadata_no_data)">

							<ng-container *ngFor="let field of forms_metadata; let fieldIndex = index;">

								<mat-grid-tile [colspan]="field.field_configs.colspan" [rowspan]="field.field_configs.rowspan">

									<div class="mat-grid-tile-container field field-{{ fieldIndex }}">

										<!-- Field label -->

										<ng-container [ngSwitch]="field.field_type">

											<!-- Main Fields Start -->

											<ng-container *ngSwitchCase="'text'">
												<df-field-text appearance="outline" color="accent" [field]="field"></df-field-text>
											</ng-container>

											<ng-container *ngSwitchCase="'url'">
												<df-field-url appearance="outline" color="accent" [field]="field"></df-field-url>
											</ng-container>

											<ng-container *ngSwitchCase="'email'">
												<df-field-email appearance="outline" color="accent" [field]="field"></df-field-email>
											</ng-container>

											<ng-container *ngSwitchCase="'number'">
												<df-field-number appearance="outline" color="accent" [field]="field"></df-field-number>
											</ng-container>

											<ng-container *ngSwitchCase="'date'">
												<df-field-date appearance="outline" color="accent" [field]="field"></df-field-date>
											</ng-container>

											<ng-container *ngSwitchCase="'month'">
												<df-field-month appearance="outline" color="accent" [field]="field"></df-field-month>
											</ng-container>

											<ng-container *ngSwitchCase="'year'">
												<df-field-year appearance="outline" color="accent" [field]="field"></df-field-year>
											</ng-container>

											<ng-container *ngSwitchCase="'time'">
												<df-field-time appearance="outline" color="accent" [field]="field"></df-field-time>
											</ng-container>

											<ng-container *ngSwitchCase="'owl-date'">
												<df-field-owl-datetime [mode]="'date'" [appearance]="'outline'" [color]="'accent'" [field]="field"></df-field-owl-datetime>
											</ng-container>

											<ng-container *ngSwitchCase="'owl-month'">
												<df-field-owl-datetime [mode]="'month'" [appearance]="'outline'" [color]="'accent'" [field]="field"></df-field-owl-datetime>
											</ng-container>

											<ng-container *ngSwitchCase="'owl-year'">
												<df-field-owl-datetime [mode]="'year'" [appearance]="'outline'" [color]="'accent'" [field]="field"></df-field-owl-datetime>
											</ng-container>

											<ng-container *ngSwitchCase="'owl-time'">
												<df-field-owl-datetime [mode]="'time'" [appearance]="'outline'" [color]="'accent'" [field]="field"></df-field-owl-datetime>
											</ng-container>

											<ng-container *ngSwitchCase="'owl-datetime'">
												<df-field-owl-datetime [mode]="'date-time'" [appearance]="'outline'" [color]="'accent'" [field]="field"></df-field-owl-datetime>
											</ng-container>

											<ng-container *ngSwitchCase="'owl-daterange'">
												<df-field-owl-datetime [mode]="'date-range'" [appearance]="'outline'" [color]="'accent'" [field]="field"></df-field-owl-datetime>
											</ng-container>

											<ng-container *ngSwitchCase="'owl-timerange'">
												<df-field-owl-datetime [mode]="'time-range'" [appearance]="'outline'" [color]="'accent'" [field]="field"></df-field-owl-datetime>
											</ng-container>

											<ng-container *ngSwitchCase="'owl-datetimerange'">
												<df-field-owl-datetime [mode]="'date-time-range'" [appearance]="'outline'" [color]="'accent'" [field]="field"></df-field-owl-datetime>
											</ng-container>

											<ng-container *ngSwitchCase="'select'">
												<df-field-select appearance="outline" color="accent" [field]="field" [options]="forms.value[field.field_name + '_options']"></df-field-select>
											</ng-container>

											<ng-container *ngSwitchCase="'file'">
												<df-field-file appearance="outline" color="accent" [field]="field"></df-field-file>
											</ng-container>

											<ng-container *ngSwitchCase="'image'">
												<df-field-image appearance="outline" color="accent" [field]="field"></df-field-image>
											</ng-container>

											<!-- Main Fields End -->

											<!-- Group Fields Start -->

											<ng-container *ngSwitchCase="'panel'">

												<ng-container *ngFor="let child of field.children; let stepIndex = index;">

													<ng-container [ngSwitch]="child.field_type">

														<ng-container *ngSwitchCase="'text'">
															<df-field-text appearance="outline" color="accent" [field]="child"></df-field-text>
														</ng-container>

														<ng-container *ngSwitchCase="'url'">
															<df-field-url appearance="outline" color="accent" [field]="child"></df-field-url>
														</ng-container>

														<ng-container *ngSwitchCase="'email'">
															<df-field-email appearance="outline" color="accent" [field]="child"></df-field-email>
														</ng-container>

														<ng-container *ngSwitchCase="'number'">
															<df-field-number appearance="outline" color="accent" [field]="child"></df-field-number>
														</ng-container>

														<ng-container *ngSwitchCase="'date'">
															<df-field-date appearance="outline" color="accent" [field]="child"></df-field-date>
														</ng-container>

														<ng-container *ngSwitchCase="'month'">
															<df-field-month appearance="outline" color="accent" [field]="child"></df-field-month>
														</ng-container>

														<ng-container *ngSwitchCase="'year'">
															<df-field-year appearance="outline" color="accent" [field]="child"></df-field-year>
														</ng-container>

														<ng-container *ngSwitchCase="'time'">
															<df-field-time appearance="outline" color="accent" [field]="child"></df-field-time>
														</ng-container>

														<ng-container *ngSwitchCase="'owl-date'">
															<df-field-owl-datetime [mode]="'date'" [appearance]="'outline'" [color]="'accent'" [field]="child"></df-field-owl-datetime>
														</ng-container>

														<ng-container *ngSwitchCase="'owl-month'">
															<df-field-owl-datetime [mode]="'month'" [appearance]="'outline'" [color]="'accent'" [field]="child"></df-field-owl-datetime>
														</ng-container>

														<ng-container *ngSwitchCase="'owl-year'">
															<df-field-owl-datetime [mode]="'year'" [appearance]="'outline'" [color]="'accent'" [field]="child"></df-field-owl-datetime>
														</ng-container>

														<ng-container *ngSwitchCase="'owl-time'">
															<df-field-owl-datetime [mode]="'time'" [appearance]="'outline'" [color]="'accent'" [field]="child"></df-field-owl-datetime>
														</ng-container>

														<ng-container *ngSwitchCase="'owl-datetime'">
															<df-field-owl-datetime [mode]="'date-time'" [appearance]="'outline'" [color]="'accent'" [field]="child"></df-field-owl-datetime>
														</ng-container>

														<ng-container *ngSwitchCase="'owl-daterange'">
															<df-field-owl-datetime [mode]="'date-range'" [appearance]="'outline'" [color]="'accent'" [field]="child"></df-field-owl-datetime>
														</ng-container>

														<ng-container *ngSwitchCase="'owl-timerange'">
															<df-field-owl-datetime [mode]="'time-range'" [appearance]="'outline'" [color]="'accent'" [field]="child"></df-field-owl-datetime>
														</ng-container>

														<ng-container *ngSwitchCase="'owl-datetimerange'">
															<df-field-owl-datetime [mode]="'date-time-range'" [appearance]="'outline'" [color]="'accent'" [field]="child"></df-field-owl-datetime>
														</ng-container>

														<ng-container *ngSwitchCase="'select'">
															<df-field-select appearance="outline" color="accent" [field]="child" [options]="forms.value[child.field_name + '_options']"></df-field-select>
														</ng-container>

														<ng-container *ngSwitchCase="'file'">
															<df-field-file appearance="outline" color="accent" [field]="child"></df-field-file>
														</ng-container>

														<ng-container *ngSwitchCase="'image'">
															<df-field-image appearance="outline" color="accent" [field]="child"></df-field-image>
														</ng-container>

													</ng-container>

												</ng-container>

											</ng-container>

											<ng-container *ngSwitchCase="'well'">

												<ng-container *ngFor="let child of field.children; let stepIndex = index;">

													<ng-container [ngSwitch]="child.field_type">

														<ng-container *ngSwitchCase="'text'">
															<df-field-text appearance="outline" color="accent" [field]="child"></df-field-text>
														</ng-container>

														<ng-container *ngSwitchCase="'url'">
															<df-field-url appearance="outline" color="accent" [field]="child"></df-field-url>
														</ng-container>

														<ng-container *ngSwitchCase="'email'">
															<df-field-email appearance="outline" color="accent" [field]="child"></df-field-email>
														</ng-container>

														<ng-container *ngSwitchCase="'number'">
															<df-field-number appearance="outline" color="accent" [field]="child"></df-field-number>
														</ng-container>

														<ng-container *ngSwitchCase="'date'">
															<df-field-date appearance="outline" color="accent" [field]="child"></df-field-date>
														</ng-container>

														<ng-container *ngSwitchCase="'month'">
															<df-field-month appearance="outline" color="accent" [field]="child"></df-field-month>
														</ng-container>

														<ng-container *ngSwitchCase="'year'">
															<df-field-year appearance="outline" color="accent" [field]="child"></df-field-year>
														</ng-container>

														<ng-container *ngSwitchCase="'time'">
															<df-field-time appearance="outline" color="accent" [field]="child"></df-field-time>
														</ng-container>

														<ng-container *ngSwitchCase="'owl-date'">
															<df-field-owl-datetime [mode]="'date'" [appearance]="'outline'" [color]="'accent'" [field]="child"></df-field-owl-datetime>
														</ng-container>

														<ng-container *ngSwitchCase="'owl-month'">
															<df-field-owl-datetime [mode]="'month'" [appearance]="'outline'" [color]="'accent'" [field]="child"></df-field-owl-datetime>
														</ng-container>

														<ng-container *ngSwitchCase="'owl-year'">
															<df-field-owl-datetime [mode]="'year'" [appearance]="'outline'" [color]="'accent'" [field]="child"></df-field-owl-datetime>
														</ng-container>

														<ng-container *ngSwitchCase="'owl-time'">
															<df-field-owl-datetime [mode]="'time'" [appearance]="'outline'" [color]="'accent'" [field]="child"></df-field-owl-datetime>
														</ng-container>

														<ng-container *ngSwitchCase="'owl-datetime'">
															<df-field-owl-datetime [mode]="'date-time'" [appearance]="'outline'" [color]="'accent'" [field]="child"></df-field-owl-datetime>
														</ng-container>

														<ng-container *ngSwitchCase="'owl-daterange'">
															<df-field-owl-datetime [mode]="'date-range'" [appearance]="'outline'" [color]="'accent'" [field]="child"></df-field-owl-datetime>
														</ng-container>

														<ng-container *ngSwitchCase="'owl-timerange'">
															<df-field-owl-datetime [mode]="'time-range'" [appearance]="'outline'" [color]="'accent'" [field]="child"></df-field-owl-datetime>
														</ng-container>

														<ng-container *ngSwitchCase="'owl-datetimerange'">
															<df-field-owl-datetime [mode]="'date-time-range'" [appearance]="'outline'" [color]="'accent'" [field]="child"></df-field-owl-datetime>
														</ng-container>

														<ng-container *ngSwitchCase="'select'">
															<df-field-select appearance="outline" color="accent" [field]="child" [options]="forms.value[child.field_name + '_options']"></df-field-select>
														</ng-container>

														<ng-container *ngSwitchCase="'file'">
															<df-field-file appearance="outline" color="accent" [field]="child"></df-field-file>
														</ng-container>

														<ng-container *ngSwitchCase="'image'">
															<df-field-image appearance="outline" color="accent" [field]="child"></df-field-image>
														</ng-container>

													</ng-container>

												</ng-container>

											</ng-container>

											<ng-container *ngSwitchCase="'accordion'">
												<div>
													<mat-label><h2>{{ field.field_label }}</h2></mat-label>

													<mat-accordion class="mat-elevation-z8" [hideToggle]="false" multi>

														<ng-container *ngFor="let panel of field.children; let panelIndex = index;">

															<mat-expansion-panel class="mat-elevation-z8" [expanded]="true" [hideToggle]="false">
																<!-- Header -->
																<mat-expansion-panel-header class="divider-bottom mb-4">
																	<mat-panel-title>{{ panel.field_label }}</mat-panel-title>
																	<mat-panel-description class="justify-between">
																		<span>{{ panel.description }}</span>
																		<ng-container *ngIf="(panel.field_configs?.panel_description?.mat_icon)">
																			<mat-icon>{{ panel.field_configs?.panel_description?.mat_icon }}</mat-icon>
																		</ng-container>
																	</mat-panel-description>
																</mat-expansion-panel-header>

																<!-- Content -->
																<mat-grid-list [cols]="available.grid_system.cols" [rowHeight]="'75px'" [gutterSize]="'15px'">

																	<ng-container *ngFor="let child of panel.children; let childFieldIndex = index;">

																		<mat-grid-tile [colspan]="child.field_configs.colspan" [rowspan]="child.field_configs.rowspan">

																			<div class="gap-4">

																				<ng-container [ngSwitch]="child.field_type">

																					<ng-container *ngSwitchCase="'text'">
																						<df-field-text appearance="outline" color="accent" [field]="child"></df-field-text>
																					</ng-container>

																					<ng-container *ngSwitchCase="'url'">
																						<df-field-url appearance="outline" color="accent" [field]="child"></df-field-url>
																					</ng-container>

																					<ng-container *ngSwitchCase="'email'">
																						<df-field-email appearance="outline" color="accent" [field]="child"></df-field-email>
																					</ng-container>

																					<ng-container *ngSwitchCase="'number'">
																						<df-field-number appearance="outline" color="accent" [field]="child"></df-field-number>
																					</ng-container>

																					<ng-container *ngSwitchCase="'date'">
																						<df-field-date appearance="outline" color="accent" [field]="child"></df-field-date>
																					</ng-container>

																					<ng-container *ngSwitchCase="'month'">
																						<df-field-month appearance="outline" color="accent" [field]="child"></df-field-month>
																					</ng-container>

																					<ng-container *ngSwitchCase="'year'">
																						<df-field-year appearance="outline" color="accent" [field]="child"></df-field-year>
																					</ng-container>

																					<ng-container *ngSwitchCase="'time'">
																						<df-field-time appearance="outline" color="accent" [field]="child"></df-field-time>
																					</ng-container>

																					<ng-container *ngSwitchCase="'owl-date'">
																						<df-field-owl-datetime [mode]="'date'" [appearance]="'outline'" [color]="'accent'" [field]="child"></df-field-owl-datetime>
																					</ng-container>

																					<ng-container *ngSwitchCase="'owl-month'">
																						<df-field-owl-datetime [mode]="'month'" [appearance]="'outline'" [color]="'accent'" [field]="child"></df-field-owl-datetime>
																					</ng-container>

																					<ng-container *ngSwitchCase="'owl-year'">
																						<df-field-owl-datetime [mode]="'year'" [appearance]="'outline'" [color]="'accent'" [field]="child"></df-field-owl-datetime>
																					</ng-container>

																					<ng-container *ngSwitchCase="'owl-time'">
																						<df-field-owl-datetime [mode]="'time'" [appearance]="'outline'" [color]="'accent'" [field]="child"></df-field-owl-datetime>
																					</ng-container>

																					<ng-container *ngSwitchCase="'owl-datetime'">
																						<df-field-owl-datetime [mode]="'date-time'" [appearance]="'outline'" [color]="'accent'" [field]="child"></df-field-owl-datetime>
																					</ng-container>

																					<ng-container *ngSwitchCase="'owl-daterange'">
																						<df-field-owl-datetime [mode]="'date-range'" [appearance]="'outline'" [color]="'accent'" [field]="child"></df-field-owl-datetime>
																					</ng-container>

																					<ng-container *ngSwitchCase="'owl-timerange'">
																						<df-field-owl-datetime [mode]="'time-range'" [appearance]="'outline'" [color]="'accent'" [field]="child"></df-field-owl-datetime>
																					</ng-container>

																					<ng-container *ngSwitchCase="'owl-datetimerange'">
																						<df-field-owl-datetime [mode]="'date-time-range'" [appearance]="'outline'" [color]="'accent'" [field]="child"></df-field-owl-datetime>
																					</ng-container>

																					<ng-container *ngSwitchCase="'select'">
																						<df-field-select appearance="outline" color="accent" [field]="child"
																							[options]="forms.value[child.field_name + '_options']"></df-field-select>
																					</ng-container>

																					<ng-container *ngSwitchCase="'file'">
																						<df-field-file appearance="outline" color="accent" [field]="child"></df-field-file>
																					</ng-container>

																					<ng-container *ngSwitchCase="'image'">
																						<df-field-image appearance="outline" color="accent" [field]="child"></df-field-image>
																					</ng-container>

																				</ng-container>

																				<!-- Field`s unique error -->
																				<ng-container *ngIf="(uniqueFalseCheckField.hasOwnProperty(child.name_field) && uniqueFalseCheckField[child.name_field]['value'] && (child.field_type !== 'hidden'))">
																					<small class="text-red-500">{{ uniqueFalseCheckField[child.name_field]['error_message'] }}</small>
																					<br>
																				</ng-container>

																				<!-- Field`s errors message -->
																				<ng-container *ngIf="(child.error_message && (child.error_message.length > 0) && (child.field_type !== 'hidden') && (forms.get(child.field_name)?.invalid && (forms.get(child.field_name)?.dirty ||
																				forms.get(child.field_name)?.touched)))">
																					<small class="text-red-500">{{ child.error_message }}</small>
																					<br>
																				</ng-container>

																				<!-- Field`s description -->
																				<ng-container *ngIf="(child.description && (child.description.length > 0) && (child.field_type !== 'hidden'))">
																					<span>{{ child.description }}</span>
																				</ng-container>
																			</div>

																		</mat-grid-tile>

																	</ng-container>

																</mat-grid-list>


															</mat-expansion-panel>

														</ng-container>

													</mat-accordion>
												</div>
											</ng-container>

											<ng-container *ngSwitchCase="'stepper'">

												<div class="border-custom m-0 p-0"> <!-- class:border-custom -->
													<mat-label><h2>{{ field.field_label }}</h2></mat-label>

													<mat-stepper class="-z-10" [orientation]="field.field_configs.orientation" [linear]="field.field_configs.linear" [color]="'accent'" #stepper>

														<ng-container *ngFor="let step of field.children; let stepIndex = index;">

															<mat-step class="-z-10" [label]="step.field_label">

																<!-- Content -->
																<mat-grid-list [cols]="available.grid_system.cols" [rowHeight]="'75px'" [gutterSize]="'15px'">

																	<ng-container *ngFor="let child of step.children; let childFieldIndex = index;">

																		<mat-grid-tile [colspan]="child.field_configs.colspan" [rowspan]="child.field_configs.rowspan">

																			<div class="gap-4">

																				<ng-container [ngSwitch]="child.field_type">

																		<ng-container *ngSwitchCase="'text'">
																			<df-field-text appearance="outline" color="accent" [field]="child"></df-field-text>
																		</ng-container>

																		<ng-container *ngSwitchCase="'url'">
																			<df-field-url appearance="outline" color="accent" [field]="child"></df-field-url>
																		</ng-container>

																		<ng-container *ngSwitchCase="'email'">
																			<df-field-email appearance="outline" color="accent" [field]="child"></df-field-email>
																		</ng-container>

																		<ng-container *ngSwitchCase="'number'">
																			<df-field-number appearance="outline" color="accent" [field]="child"></df-field-number>
																		</ng-container>

																		<ng-container *ngSwitchCase="'date'">
																			<df-field-date appearance="outline" color="accent" [field]="child"></df-field-date>
																		</ng-container>

																		<ng-container *ngSwitchCase="'month'">
																			<df-field-month appearance="outline" color="accent" [field]="child"></df-field-month>
																		</ng-container>

																		<ng-container *ngSwitchCase="'year'">
																			<df-field-year appearance="outline" color="accent" [field]="child"></df-field-year>
																		</ng-container>

																		<ng-container *ngSwitchCase="'time'">
																			<df-field-time appearance="outline" color="accent" [field]="child"></df-field-time>
																		</ng-container>

																		<ng-container *ngSwitchCase="'owl-date'">
																			<df-field-owl-datetime [mode]="'date'" [appearance]="'outline'" [color]="'accent'" [field]="child"></df-field-owl-datetime>
																		</ng-container>

																		<ng-container *ngSwitchCase="'owl-month'">
																			<df-field-owl-datetime [mode]="'month'" [appearance]="'outline'" [color]="'accent'" [field]="child"></df-field-owl-datetime>
																		</ng-container>

																		<ng-container *ngSwitchCase="'owl-year'">
																			<df-field-owl-datetime [mode]="'year'" [appearance]="'outline'" [color]="'accent'" [field]="child"></df-field-owl-datetime>
																		</ng-container>

																		<ng-container *ngSwitchCase="'owl-time'">
																			<df-field-owl-datetime [mode]="'time'" [appearance]="'outline'" [color]="'accent'" [field]="child"></df-field-owl-datetime>
																		</ng-container>

																		<ng-container *ngSwitchCase="'owl-datetime'">
																			<df-field-owl-datetime [mode]="'date-time'" [appearance]="'outline'" [color]="'accent'" [field]="child"></df-field-owl-datetime>
																		</ng-container>

																		<ng-container *ngSwitchCase="'owl-daterange'">
																			<df-field-owl-datetime [mode]="'date-range'" [appearance]="'outline'" [color]="'accent'" [field]="child"></df-field-owl-datetime>
																		</ng-container>

																		<ng-container *ngSwitchCase="'owl-timerange'">
																			<df-field-owl-datetime [mode]="'time-range'" [appearance]="'outline'" [color]="'accent'" [field]="child"></df-field-owl-datetime>
																		</ng-container>

																		<ng-container *ngSwitchCase="'owl-datetimerange'">
																			<df-field-owl-datetime [mode]="'date-time-range'" [appearance]="'outline'" [color]="'accent'" [field]="child"></df-field-owl-datetime>
																		</ng-container>

																		<ng-container *ngSwitchCase="'select'">
																			<df-field-select appearance="outline" color="accent" [field]="child" [options]="forms.value[child.field_name + '_options']"></df-field-select>
																		</ng-container>

																		<ng-container *ngSwitchCase="'file'">
																			<df-field-file appearance="outline" color="accent" [field]="child"></df-field-file>
																		</ng-container>

																		<ng-container *ngSwitchCase="'image'">
																			<df-field-image appearance="outline" color="accent" [field]="child"></df-field-image>
																		</ng-container>

																				</ng-container>

																				<!-- Field`s unique error -->
																				<ng-container *ngIf="(uniqueFalseCheckField.hasOwnProperty(child.name_field) && uniqueFalseCheckField[child.name_field]['value'] && (child.field_type !== 'hidden'))">
																					<small class="text-red-500">{{ uniqueFalseCheckField[child.name_field]['error_message'] }}</small>
																					<br>
																				</ng-container>

																				<!-- Field`s errors message -->
																				<ng-container *ngIf="(child.error_message && (child.error_message.length > 0) && (child.field_type !== 'hidden') && (forms.get(child.field_name)?.invalid && (forms.get(child.field_name)?.dirty ||
																				forms.get(child.field_name)?.touched)))">
																					<small class="text-red-500">{{ child.error_message }}</small>
																					<br>
																				</ng-container>

																				<!-- Field`s description -->
																				<ng-container *ngIf="(child.description && (child.description.length > 0) && (child.field_type !== 'hidden'))">
																					<span>{{ child.description }}</span>
																				</ng-container>
																			</div>

																		</mat-grid-tile>

																	</ng-container>

																</mat-grid-list>

																<!-- Direction button -->
																<div class="flex justify-center gap-4">

																	<!--<button mat-stroked-button class="flex-initial w-32" [color]="'warn'">Cancel</button>-->

																	<ng-container *ngIf="((stepIndex + 1) === 1)">
																		<button mat-stroked-button class="flex-initial w-32" [color]="'accent'" matStepperNext>Next</button>
																	</ng-container>

																	<ng-container *ngIf="((stepIndex + 1) !== 1 && ((stepIndex + 1) !== field.children.length))">
																		<button mat-stroked-button class="flex-initial w-32" [color]="'default'" matStepperPrevious>Back</button>
																		<button mat-stroked-button class="flex-initial w-32" [color]="'accent'" matStepperNext>Next</button>
																	</ng-container>

																	<ng-container *ngIf="((stepIndex + 1) === field.children.length)">
																		<button mat-stroked-button class="flex-initial w-32" [color]="'default'" matStepperPrevious>Back</button>
																		<!--<button mat-raised-button class="flex-initial w-32" [color]="'warn'" (click)="stepper.reset()">Reset</button>-->
																		<!--<button mat-raised-button class="flex-initial w-32" [color]="'accent'">Save</button>-->
																	</ng-container>

																</div>

															</mat-step>

														</ng-container>

													</mat-stepper>
												</div>

											</ng-container>

											<ng-container *ngSwitchCase="'multiple'">

												<ng-container *ngFor="let childItem of getFormGroup(field.field_name)['controls'] ; let childItemIndex = index;">

													<div [formArrayName]="field.field_name">

														<ng-container [formGroupName]="childItemIndex">

															<ng-container *ngFor="let child of field.children; let childFieldIndex">

																<ng-container [ngSwitch]="child.field_type">

																	<ng-container *ngSwitchCase="'text'">
																		<df-field-text appearance="outline" color="accent" [field]="child"></df-field-text>
																	</ng-container>

																	<ng-container *ngSwitchCase="'url'">
																		<df-field-url appearance="outline" color="accent" [field]="child"></df-field-url>
																	</ng-container>

																	<ng-container *ngSwitchCase="'email'">
																		<df-field-email appearance="outline" color="accent" [field]="child"></df-field-email>
																	</ng-container>

																	<ng-container *ngSwitchCase="'number'">
																		<df-field-number appearance="outline" color="accent" [field]="child"></df-field-number>
																	</ng-container>

																	<ng-container *ngSwitchCase="'date'">
																		<df-field-date appearance="outline" color="accent" [field]="child"></df-field-date>
																	</ng-container>

																	<ng-container *ngSwitchCase="'month'">
																		<df-field-month appearance="outline" color="accent" [field]="child"></df-field-month>
																	</ng-container>

																	<ng-container *ngSwitchCase="'year'">
																		<df-field-year appearance="outline" color="accent" [field]="child"></df-field-year>
																	</ng-container>

																	<ng-container *ngSwitchCase="'time'">
																		<df-field-time appearance="outline" color="accent" [field]="child"></df-field-time>
																	</ng-container>

																	<ng-container *ngSwitchCase="'owl-date'">
																		<df-field-owl-datetime [mode]="'date'" [appearance]="'outline'" [color]="'accent'" [field]="child"></df-field-owl-datetime>
																	</ng-container>

																	<ng-container *ngSwitchCase="'owl-month'">
																		<df-field-owl-datetime [mode]="'month'" [appearance]="'outline'" [color]="'accent'" [field]="child"></df-field-owl-datetime>
																	</ng-container>

																	<ng-container *ngSwitchCase="'owl-year'">
																		<df-field-owl-datetime [mode]="'year'" [appearance]="'outline'" [color]="'accent'" [field]="child"></df-field-owl-datetime>
																	</ng-container>

																	<ng-container *ngSwitchCase="'owl-time'">
																		<df-field-owl-datetime [mode]="'time'" [appearance]="'outline'" [color]="'accent'" [field]="child"></df-field-owl-datetime>
																	</ng-container>

																	<ng-container *ngSwitchCase="'owl-datetime'">
																		<df-field-owl-datetime [mode]="'date-time'" [appearance]="'outline'" [color]="'accent'" [field]="child"></df-field-owl-datetime>
																	</ng-container>

																	<ng-container *ngSwitchCase="'owl-daterange'">
																		<df-field-owl-datetime [mode]="'date-range'" [appearance]="'outline'" [color]="'accent'" [field]="child"></df-field-owl-datetime>
																	</ng-container>

																	<ng-container *ngSwitchCase="'owl-timerange'">
																		<df-field-owl-datetime [mode]="'time-range'" [appearance]="'outline'" [color]="'accent'" [field]="child"></df-field-owl-datetime>
																	</ng-container>

																	<ng-container *ngSwitchCase="'owl-datetimerange'">
																		<df-field-owl-datetime [mode]="'date-time-range'" [appearance]="'outline'" [color]="'accent'" [field]="child"></df-field-owl-datetime>
																	</ng-container>

																	<ng-container *ngSwitchCase="'select'">
																		<df-field-select appearance="outline" color="accent" [field]="child"
																			[options]="forms.value[child.field_name + '_options']"></df-field-select>
																	</ng-container>

																	<ng-container *ngSwitchCase="'file'">
																		<df-field-file appearance="outline" color="accent" [field]="child"></df-field-file>
																	</ng-container>

																	<ng-container *ngSwitchCase="'image'">
																		<df-field-image appearance="outline" color="accent" [field]="child"></df-field-image>
																	</ng-container>

																</ng-container>

															</ng-container>

														</ng-container>

													</div>

												</ng-container>

											</ng-container>

										</ng-container>

										<!-- Field`s unique error -->
										<ng-container *ngIf="(uniqueFalseCheckField.hasOwnProperty(field.name_field) && uniqueFalseCheckField[field.name_field]['value'] && (field.field_type !== 'hidden'))">
											<small class="text-red-500">{{ uniqueFalseCheckField[field.name_field]['error_message'] }}</small>
											<br>
										</ng-container>

										<!-- Field`s errors message -->
										<ng-container *ngIf="(field.error_message && (field.error_message.length > 0) && (field.field_type !== 'hidden') && (forms.get(field.field_name)?.invalid && (forms.get(field.field_name)?.dirty || forms.get(field.field_name)?.touched)))">
											<small class="text-red-500">{{ field.error_message }}</small>
											<br>
										</ng-container>

										<!-- Field`s description -->
										<ng-container *ngIf="(field.description && (field.description.length > 0) && (field.field_type !== 'hidden'))">
											<span>{{ field.description }}</span>
										</ng-container>

									</div>

								</mat-grid-tile>

							</ng-container>

						</ng-container>

					</mat-grid-list>

					<!-- Below form -->
					<div class="below-form">
						<mat-divider></mat-divider>

						<div class="flex justify-center gap-4 mt-7">
							<button mat-stroked-button class="flex-initial w-32" [color]="'warn'" (click)="onFormCancelButtonClick()" [disabled]="available.cancel_button_disabled">Cancel</button>
							<button mat-raised-button class="flex-initial w-32" [color]="'accent'" (click)="onFormSubmitButtonClick()" [disabled]="available.submit_button_disabled">Save</button>
						</div>
					</div>

				</form>
			</ng-container>

			<!-- Bootstrap or Tailwind grid system -->
			<ng-container *ngIf="(available.grid_system.type !== 'no_grid_system' && available.grid_system.type !== 'material')">

				<form>

					<div [ngClass]="[
						(available.grid_system?.type === 'bootstrap') ? 'row' : 'null',
						(available.grid_system?.type === 'bootstrap' && available.grid_system?.cols) ? 'row-cols-' + available.grid_system?.cols : 'null',
						(available.grid_system?.type === 'tailwind') ? 'grid grid-cols-12 grid-flow-row gap-3' : 'null',
					]">

						<!-- Publication type input -->
						<div [ngClass]="[
							(available.grid_system?.type === 'bootstrap') ? 'col-12' : 'null',
							(available.grid_system?.type === 'tailwind') ? 'row-span-1 col-span-12' : 'null',
						]">
							<mat-form-field appearance="outline" [color]="'accent'">
								<mat-label>Publication type</mat-label>
								<mat-select [formControlName]="'publication_type_uuid'" (selectionChange)="onPublicationTypeSlctSelect($event)">
									<mat-option *ngFor="let publicationType of selectOptions['publication_type'].items; let publicationTypeIndex = index;" [value]="publicationType.uuid">{{ publicationType.publication_type_name + ' [ ' + publicationType.publication_type_code + ' ]' }}</mat-option>
								</mat-select>
							</mat-form-field>
						</div>

						<!--
						<div [ngClass]="[
							(available.grid_system?.type === 'bootstrap') ? 'col-12' : 'null',
							(available.grid_system?.type === 'tailwind') ? 'row-span-1 col-span-12' : 'null',
						]" *ngIf="(available.form_metadata_no_data)">
							<ngx-select
								class="form-control"
								id="publication_type_uuid"
								placeholder="-- Choose publication type --"
								[formControlName]="'publication_type_uuid'"
								[items]="selectOptions['publication_type'].items"
								[optionTextField]="'publication_type_name'"
								[optionValueField]="'uuid'"
								[defaultValue]="selectOptions['publication_type'].defaultValue"
								(selectionChanges)="onPublicationTypeClick($event)"
							></ngx-select>
						</div>
						-->

						<!-- Show no data information if forms meta data is empty -->
						<div [ngClass]="[
							(available.grid_system?.type === 'bootstrap') ? 'col-12' : 'null',
							(available.grid_system?.type === 'tailwind') ? 'row-span-1 col-span-12' : 'null',
						]" *ngIf="(available.form_metadata_no_data)">
							<div class="h-50" align="center">
								<i class="material-icons text-9xl">warning_amber</i>

								<div class="row row-cols-1">
									<span class="col-auto text-xl font-medium">No data</span>
									<span class="col-auto text-xl">No form data is displayed, please select another type of publication or back.</span>
								</div>
							</div>

							<button mat-stroked-button class="flex-initial w-32" (click)="onBackButtonClick()">Back</button>
						</div>

						<!-- Show loader if forms meta data is available and is in progress -->
						<div [ngClass]="[
							(available.grid_system?.type === 'bootstrap') ? 'col-12' : 'null',
							(available.grid_system?.type === 'tailwind') ? 'row-span-1 col-span-12' : 'null',
						]" *ngIf="(available.publication_type_selected && !available.form_metadata_loaded && !available.form_metadata_no_data)">
							<app-loader></app-loader>
						</div>

						<!-- Show forms recursively -->
						<ng-container *ngFor="let field of forms_metadata; let fieldIndex = index;">
							<div [ngClass]="[
								(available.grid_system?.type === 'bootstrap' && field.field_configs?.colspan) ? 'col-' + field.field_configs.colspan : 'null',

								(available.grid_system?.type === 'tailwind' && field.field_configs?.rowspan) ? 'row-span-' + field.field_configs.rowspan : 'row-span-1',
								(available.grid_system?.type === 'tailwind' && field.field_configs?.colspan) ? 'col-span-' + field.field_configs.colspan : 'col-span-12',
							]" *ngIf="(available.publication_type_selected && available.form_metadata_loaded && !available.form_metadata_no_data)">

								<!-- Fields -->
								<ng-container [ngSwitch]="field.field_type">

									<!-- Main Fields Start -->

									<ng-container *ngSwitchCase="'text'">
										<df-field-text appearance="outline" color="accent" [field]="field"></df-field-text>
									</ng-container>

									<ng-container *ngSwitchCase="'url'">
										<df-field-url appearance="outline" color="accent" [field]="field"></df-field-url>
									</ng-container>

									<ng-container *ngSwitchCase="'email'">
										<df-field-email appearance="outline" color="accent" [field]="field"></df-field-email>
									</ng-container>

									<ng-container *ngSwitchCase="'number'">
										<df-field-number appearance="outline" color="accent" [field]="field"></df-field-number>
									</ng-container>

									<ng-container *ngSwitchCase="'date'">
										<df-field-date appearance="outline" color="accent" [field]="field"></df-field-date>
									</ng-container>

									<ng-container *ngSwitchCase="'month'">
										<df-field-month appearance="outline" color="accent" [field]="field"></df-field-month>
									</ng-container>

									<ng-container *ngSwitchCase="'year'">
										<df-field-year appearance="outline" color="accent" [field]="field"></df-field-year>
									</ng-container>

									<ng-container *ngSwitchCase="'time'">
										<df-field-time appearance="outline" color="accent" [field]="field"></df-field-time>
									</ng-container>

									<ng-container *ngSwitchCase="'owl-date'">
										<df-field-owl-datetime [mode]="'date'" [appearance]="'outline'" [color]="'accent'" [field]="field"></df-field-owl-datetime>
									</ng-container>

									<ng-container *ngSwitchCase="'owl-month'">
										<df-field-owl-datetime [mode]="'month'" [appearance]="'outline'" [color]="'accent'" [field]="field"></df-field-owl-datetime>
									</ng-container>

									<ng-container *ngSwitchCase="'owl-year'">
										<df-field-owl-datetime [mode]="'year'" [appearance]="'outline'" [color]="'accent'" [field]="field"></df-field-owl-datetime>
									</ng-container>

									<ng-container *ngSwitchCase="'owl-time'">
										<df-field-owl-datetime [mode]="'time'" [appearance]="'outline'" [color]="'accent'" [field]="field"></df-field-owl-datetime>
									</ng-container>

									<ng-container *ngSwitchCase="'owl-datetime'">
										<df-field-owl-datetime [mode]="'date-time'" [appearance]="'outline'" [color]="'accent'" [field]="field"></df-field-owl-datetime>
									</ng-container>

									<ng-container *ngSwitchCase="'owl-daterange'">
										<df-field-owl-datetime [mode]="'date-range'" [appearance]="'outline'" [color]="'accent'" [field]="field"></df-field-owl-datetime>
									</ng-container>

									<ng-container *ngSwitchCase="'owl-timerange'">
										<df-field-owl-datetime [mode]="'time-range'" [appearance]="'outline'" [color]="'accent'" [field]="field"></df-field-owl-datetime>
									</ng-container>

									<ng-container *ngSwitchCase="'owl-datetimerange'">
										<df-field-owl-datetime [mode]="'date-time-range'" [appearance]="'outline'" [color]="'accent'" [field]="field"></df-field-owl-datetime>
									</ng-container>

									<ng-container *ngSwitchCase="'select'">
										<df-field-select appearance="outline" color="accent" [field]="field" [options]="forms.value[field.field_name + '_options']"></df-field-select>
									</ng-container>

									<ng-container *ngSwitchCase="'file'">
										<df-field-file appearance="outline" color="accent" [field]="field"></df-field-file>
									</ng-container>

									<ng-container *ngSwitchCase="'image'">
										<df-field-image appearance="outline" color="accent" [field]="field"></df-field-image>
									</ng-container>

									<!-- Main Fields End -->

									<!-- Group Fields Start -->

									<ng-container *ngSwitchCase="'panel'">

										<ng-container *ngFor="let child of field.children; let stepIndex = index;">

											<ng-container [ngSwitch]="child.field_type">

												<ng-container *ngSwitchCase="'text'">
													<df-field-text appearance="outline" color="accent" [field]="child"></df-field-text>
												</ng-container>

												<ng-container *ngSwitchCase="'url'">
													<df-field-url appearance="outline" color="accent" [field]="child"></df-field-url>
												</ng-container>

												<ng-container *ngSwitchCase="'email'">
													<df-field-email appearance="outline" color="accent" [field]="child"></df-field-email>
												</ng-container>

												<ng-container *ngSwitchCase="'number'">
													<df-field-number appearance="outline" color="accent" [field]="child"></df-field-number>
												</ng-container>

												<ng-container *ngSwitchCase="'date'">
													<df-field-date appearance="outline" color="accent" [field]="child"></df-field-date>
												</ng-container>

												<ng-container *ngSwitchCase="'month'">
													<df-field-month appearance="outline" color="accent" [field]="child"></df-field-month>
												</ng-container>

												<ng-container *ngSwitchCase="'year'">
													<df-field-year appearance="outline" color="accent" [field]="child"></df-field-year>
												</ng-container>

												<ng-container *ngSwitchCase="'time'">
													<df-field-time appearance="outline" color="accent" [field]="child"></df-field-time>
												</ng-container>

												<ng-container *ngSwitchCase="'owl-date'">
													<df-field-owl-datetime [mode]="'date'" [appearance]="'outline'" [color]="'accent'" [field]="child"></df-field-owl-datetime>
												</ng-container>

												<ng-container *ngSwitchCase="'owl-month'">
													<df-field-owl-datetime [mode]="'month'" [appearance]="'outline'" [color]="'accent'" [field]="child"></df-field-owl-datetime>
												</ng-container>

												<ng-container *ngSwitchCase="'owl-year'">
													<df-field-owl-datetime [mode]="'year'" [appearance]="'outline'" [color]="'accent'" [field]="child"></df-field-owl-datetime>
												</ng-container>

												<ng-container *ngSwitchCase="'owl-time'">
													<df-field-owl-datetime [mode]="'time'" [appearance]="'outline'" [color]="'accent'" [field]="child"></df-field-owl-datetime>
												</ng-container>

												<ng-container *ngSwitchCase="'owl-datetime'">
													<df-field-owl-datetime [mode]="'date-time'" [appearance]="'outline'" [color]="'accent'" [field]="child"></df-field-owl-datetime>
												</ng-container>

												<ng-container *ngSwitchCase="'owl-daterange'">
													<df-field-owl-datetime [mode]="'date-range'" [appearance]="'outline'" [color]="'accent'" [field]="child"></df-field-owl-datetime>
												</ng-container>

												<ng-container *ngSwitchCase="'owl-timerange'">
													<df-field-owl-datetime [mode]="'time-range'" [appearance]="'outline'" [color]="'accent'" [field]="child"></df-field-owl-datetime>
												</ng-container>

												<ng-container *ngSwitchCase="'owl-datetimerange'">
													<df-field-owl-datetime [mode]="'date-time-range'" [appearance]="'outline'" [color]="'accent'" [field]="child"></df-field-owl-datetime>
												</ng-container>

												<ng-container *ngSwitchCase="'select'">
													<df-field-select appearance="outline" color="accent" [field]="child" [options]="forms.value[child.field_name + '_options']"></df-field-select>
												</ng-container>

												<ng-container *ngSwitchCase="'file'">
													<df-field-file appearance="outline" color="accent" [field]="child"></df-field-file>
												</ng-container>

												<ng-container *ngSwitchCase="'image'">
													<df-field-image appearance="outline" color="accent" [field]="child"></df-field-image>
												</ng-container>

											</ng-container>

										</ng-container>

									</ng-container>

									<ng-container *ngSwitchCase="'well'">

										<ng-container *ngFor="let child of field.children; let stepIndex = index;">

											<ng-container [ngSwitch]="child.field_type">

												<ng-container *ngSwitchCase="'text'">
													<df-field-text appearance="outline" color="accent" [field]="child"></df-field-text>
												</ng-container>

												<ng-container *ngSwitchCase="'url'">
													<df-field-url appearance="outline" color="accent" [field]="child"></df-field-url>
												</ng-container>

												<ng-container *ngSwitchCase="'email'">
													<df-field-email appearance="outline" color="accent" [field]="child"></df-field-email>
												</ng-container>

												<ng-container *ngSwitchCase="'number'">
													<df-field-number appearance="outline" color="accent" [field]="child"></df-field-number>
												</ng-container>

												<ng-container *ngSwitchCase="'date'">
													<df-field-date appearance="outline" color="accent" [field]="child"></df-field-date>
												</ng-container>

												<ng-container *ngSwitchCase="'month'">
													<df-field-month appearance="outline" color="accent" [field]="child"></df-field-month>
												</ng-container>

												<ng-container *ngSwitchCase="'year'">
													<df-field-year appearance="outline" color="accent" [field]="child"></df-field-year>
												</ng-container>

												<ng-container *ngSwitchCase="'time'">
													<df-field-time appearance="outline" color="accent" [field]="child"></df-field-time>
												</ng-container>

												<ng-container *ngSwitchCase="'owl-date'">
													<df-field-owl-datetime [mode]="'date'" [appearance]="'outline'" [color]="'accent'" [field]="child"></df-field-owl-datetime>
												</ng-container>

												<ng-container *ngSwitchCase="'owl-month'">
													<df-field-owl-datetime [mode]="'month'" [appearance]="'outline'" [color]="'accent'" [field]="child"></df-field-owl-datetime>
												</ng-container>

												<ng-container *ngSwitchCase="'owl-year'">
													<df-field-owl-datetime [mode]="'year'" [appearance]="'outline'" [color]="'accent'" [field]="child"></df-field-owl-datetime>
												</ng-container>

												<ng-container *ngSwitchCase="'owl-time'">
													<df-field-owl-datetime [mode]="'time'" [appearance]="'outline'" [color]="'accent'" [field]="child"></df-field-owl-datetime>
												</ng-container>

												<ng-container *ngSwitchCase="'owl-datetime'">
													<df-field-owl-datetime [mode]="'date-time'" [appearance]="'outline'" [color]="'accent'" [field]="child"></df-field-owl-datetime>
												</ng-container>

												<ng-container *ngSwitchCase="'owl-daterange'">
													<df-field-owl-datetime [mode]="'date-range'" [appearance]="'outline'" [color]="'accent'" [field]="child"></df-field-owl-datetime>
												</ng-container>

												<ng-container *ngSwitchCase="'owl-timerange'">
													<df-field-owl-datetime [mode]="'time-range'" [appearance]="'outline'" [color]="'accent'" [field]="child"></df-field-owl-datetime>
												</ng-container>

												<ng-container *ngSwitchCase="'owl-datetimerange'">
													<df-field-owl-datetime [mode]="'date-time-range'" [appearance]="'outline'" [color]="'accent'" [field]="child"></df-field-owl-datetime>
												</ng-container>

												<ng-container *ngSwitchCase="'select'">
													<df-field-select appearance="outline" color="accent" [field]="child" [options]="forms.value[child.field_name + '_options']"></df-field-select>
												</ng-container>

												<ng-container *ngSwitchCase="'file'">
													<df-field-file appearance="outline" color="accent" [field]="child"></df-field-file>
												</ng-container>

												<ng-container *ngSwitchCase="'image'">
													<df-field-image appearance="outline" color="accent" [field]="child"></df-field-image>
												</ng-container>

											</ng-container>

										</ng-container>

									</ng-container>

									<ng-container *ngSwitchCase="'accordion'">
										<div>
											<mat-label>{{ field.field_label }}</mat-label>

											<mat-accordion class="mat-elevation-z8" [hideToggle]="false" multi>

												<ng-container *ngFor="let panel of field.children; let panelIndex = index;">

													<mat-expansion-panel class="mat-elevation-z8" [expanded]="true" [hideToggle]="false">
														<!-- Header -->
														<mat-expansion-panel-header class="divider-bottom">
															<!-- Title -->
															<mat-panel-title>{{ panel.field_label }}</mat-panel-title>

															<!-- Description -->
															<mat-panel-description class="justify-between">
																<span>{{ panel.description }}</span>
																<ng-container *ngIf="(panel.field_configs?.panel_description?.mat_icon)">
																	<mat-icon>{{ panel.field_configs?.panel_description?.mat_icon }}</mat-icon>
																</ng-container>
															</mat-panel-description>
														</mat-expansion-panel-header>

														<!-- Content -->
														<div [ngClass]="[
															(available.grid_system?.type === 'bootstrap') ? 'row' : 'null',
															(available.grid_system?.type === 'bootstrap' && available.grid_system?.cols) ? 'row-cols-' + available.grid_system?.cols : 'null',
															(available.grid_system?.type === 'tailwind') ? 'grid grid-cols-12 grid-flow-row gap-4' : 'null',
														]">

															<ng-container *ngFor="let child of panel.children; let childFieldIndex = index;">
																<div [ngClass]="[
																	(available.grid_system?.type === 'bootstrap' && child.field_configs?.colspan) ? 'col-' + child.field_configs.colspan : 'null',

																	(available.grid_system?.type === 'tailwind' && child.field_configs?.rowspan) ? 'row-span-' + child.field_configs.rowspan : 'row-span-1',
																	(available.grid_system?.type === 'tailwind' && child.field_configs?.colspan) ? 'col-span-' + child.field_configs.colspan : 'col-span-12',
																]">

																	<!-- (childFieldIndex === 0) ? 'mt-4' : '',
																	(childFieldIndex === (panel.children.length - 1)) ? 'mb-4' : '',-->

																	<ng-container [ngSwitch]="child.field_type">

																		<ng-container *ngSwitchCase="'text'">
																			<df-field-text appearance="outline" color="accent" [field]="child"></df-field-text>
																		</ng-container>

																		<ng-container *ngSwitchCase="'url'">
																			<df-field-url appearance="outline" color="accent" [field]="child"></df-field-url>
																		</ng-container>

																		<ng-container *ngSwitchCase="'email'">
																			<df-field-email appearance="outline" color="accent" [field]="child"></df-field-email>
																		</ng-container>

																		<ng-container *ngSwitchCase="'number'">
																			<df-field-number appearance="outline" color="accent" [field]="child"></df-field-number>
																		</ng-container>

																		<ng-container *ngSwitchCase="'date'">
																			<df-field-date appearance="outline" color="accent" [field]="child"></df-field-date>
																		</ng-container>

																		<ng-container *ngSwitchCase="'month'">
																			<df-field-month appearance="outline" color="accent" [field]="child"></df-field-month>
																		</ng-container>

																		<ng-container *ngSwitchCase="'year'">
																			<df-field-year appearance="outline" color="accent" [field]="child"></df-field-year>
																		</ng-container>

																		<ng-container *ngSwitchCase="'time'">
																			<df-field-time appearance="outline" color="accent" [field]="child"></df-field-time>
																		</ng-container>

																		<ng-container *ngSwitchCase="'owl-date'">
																			<df-field-owl-datetime [mode]="'date'" [appearance]="'outline'" [color]="'accent'" [field]="child"></df-field-owl-datetime>
																		</ng-container>

																		<ng-container *ngSwitchCase="'owl-month'">
																			<df-field-owl-datetime [mode]="'month'" [appearance]="'outline'" [color]="'accent'" [field]="child"></df-field-owl-datetime>
																		</ng-container>

																		<ng-container *ngSwitchCase="'owl-year'">
																			<df-field-owl-datetime [mode]="'year'" [appearance]="'outline'" [color]="'accent'" [field]="child"></df-field-owl-datetime>
																		</ng-container>

																		<ng-container *ngSwitchCase="'owl-time'">
																			<df-field-owl-datetime [mode]="'time'" [appearance]="'outline'" [color]="'accent'" [field]="child"></df-field-owl-datetime>
																		</ng-container>

																		<ng-container *ngSwitchCase="'owl-datetime'">
																			<df-field-owl-datetime [mode]="'date-time'" [appearance]="'outline'" [color]="'accent'" [field]="child"></df-field-owl-datetime>
																		</ng-container>

																		<ng-container *ngSwitchCase="'owl-daterange'">
																			<df-field-owl-datetime [mode]="'date-range'" [appearance]="'outline'" [color]="'accent'" [field]="child"></df-field-owl-datetime>
																		</ng-container>

																		<ng-container *ngSwitchCase="'owl-timerange'">
																			<df-field-owl-datetime [mode]="'time-range'" [appearance]="'outline'" [color]="'accent'" [field]="child"></df-field-owl-datetime>
																		</ng-container>

																		<ng-container *ngSwitchCase="'owl-datetimerange'">
																			<df-field-owl-datetime [mode]="'date-time-range'" [appearance]="'outline'" [color]="'accent'" [field]="child"></df-field-owl-datetime>
																		</ng-container>

																		<ng-container *ngSwitchCase="'select'">
																			<df-field-select appearance="outline" color="accent" [field]="child"
																				[options]="forms.value[child.field_name + '_options']"></df-field-select>
																		</ng-container>

																		<ng-container *ngSwitchCase="'file'">
																			<df-field-file appearance="outline" color="accent" [field]="child"></df-field-file>
																		</ng-container>

																		<ng-container *ngSwitchCase="'image'">
																			<df-field-image appearance="outline" color="accent" [field]="child"></df-field-image>
																		</ng-container>

																	</ng-container>

																	<!-- Field`s unique error -->
																	<ng-container *ngIf="(uniqueFalseCheckField.hasOwnProperty(child.name_field) && uniqueFalseCheckField[child.name_field]['value'] && (child.field_type !== 'hidden'))">
																		<small class="text-red-500">{{ uniqueFalseCheckField[child.name_field]['error_message'] }}</small>
																		<br>
																	</ng-container>

																	<!-- Field`s errors message -->
																	<ng-container *ngIf="(child.error_message && (child.error_message.length > 0) && (child.field_type !== 'hidden') && (forms.get(child.field_name)?.invalid && (forms.get(child.field_name)?.dirty ||
																	forms.get(child.field_name)?.touched)))">
																		<small class="text-red-500">{{ child.error_message }}</small>
																		<br>
																	</ng-container>

																	<!-- Field`s description -->
																	<ng-container *ngIf="(child.description && (child.description.length > 0) && (child.field_type !== 'hidden'))">
																		<span>{{ child.description }}</span>
																	</ng-container>
																</div>

															</ng-container>
														</div>
													</mat-expansion-panel>

												</ng-container>

											</mat-accordion>
										</div>
									</ng-container>

									<ng-container *ngSwitchCase="'stepper'">
										<div class="border-custom m-0 p-0"> <!-- class:border-custom -->
											<mat-label class="ml-1 mt-5">{{ field.field_label }}</mat-label>

											<mat-stepper class="-z-10" [orientation]="field.field_configs?.orientation" [linear]="field.field_configs?.linear" [color]="'accent'" #stepper>

												<ng-container *ngFor="let step of field.children; let stepIndex = index;">

													<mat-step [label]="step.field_label">

														<div [ngClass]="[
															(available.grid_system?.type === 'bootstrap') ? 'row' : '',
															(available.grid_system?.type === 'bootstrap' && available.grid_system?.cols) ? 'row-cols-' + available.grid_system?.cols : 'null',
															(available.grid_system?.type === 'tailwind') ? 'grid grid-cols-12 grid-flow-row gap-4' : 'null',
															'-z-10',
														]">

															<ng-container *ngFor="let child of step.children; let childFieldIndex = index;">
																<div [ngClass]="[
																	(available.grid_system?.type === 'bootstrap' && child.field_configs?.colspan) ? 'col-' + child.field_configs.colspan : '',

																	(available.grid_system?.type === 'tailwind' && child.field_configs?.rowspan) ? 'row-span-' + child.field_configs.rowspan : 'row-auto',
																	(available.grid_system?.type === 'tailwind' && child.field_configs?.colspan) ? 'col-span-' + child.field_configs.colspan : 'col-auto',
																]">

																	<ng-container [ngSwitch]="child.field_type">

																		<ng-container *ngSwitchCase="'text'">
																			<df-field-text appearance="outline" color="accent" [field]="child"></df-field-text>
																		</ng-container>

																		<ng-container *ngSwitchCase="'url'">
																			<df-field-url appearance="outline" color="accent" [field]="child"></df-field-url>
																		</ng-container>

																		<ng-container *ngSwitchCase="'email'">
																			<df-field-email appearance="outline" color="accent" [field]="child"></df-field-email>
																		</ng-container>

																		<ng-container *ngSwitchCase="'number'">
																			<df-field-number appearance="outline" color="accent" [field]="child"></df-field-number>
																		</ng-container>

																		<ng-container *ngSwitchCase="'date'">
																			<df-field-date appearance="outline" color="accent" [field]="child"></df-field-date>
																		</ng-container>

																		<ng-container *ngSwitchCase="'month'">
																			<df-field-month appearance="outline" color="accent" [field]="child"></df-field-month>
																		</ng-container>

																		<ng-container *ngSwitchCase="'year'">
																			<df-field-year appearance="outline" color="accent" [field]="child"></df-field-year>
																		</ng-container>

																		<ng-container *ngSwitchCase="'time'">
																			<df-field-time appearance="outline" color="accent" [field]="child"></df-field-time>
																		</ng-container>

																		<ng-container *ngSwitchCase="'owl-date'">
																			<df-field-owl-datetime [mode]="'date'" [appearance]="'outline'" [color]="'accent'" [field]="child"></df-field-owl-datetime>
																		</ng-container>

																		<ng-container *ngSwitchCase="'owl-month'">
																			<df-field-owl-datetime [mode]="'month'" [appearance]="'outline'" [color]="'accent'" [field]="child"></df-field-owl-datetime>
																		</ng-container>

																		<ng-container *ngSwitchCase="'owl-year'">
																			<df-field-owl-datetime [mode]="'year'" [appearance]="'outline'" [color]="'accent'" [field]="child"></df-field-owl-datetime>
																		</ng-container>

																		<ng-container *ngSwitchCase="'owl-time'">
																			<df-field-owl-datetime [mode]="'time'" [appearance]="'outline'" [color]="'accent'" [field]="child"></df-field-owl-datetime>
																		</ng-container>

																		<ng-container *ngSwitchCase="'owl-datetime'">
																			<df-field-owl-datetime [mode]="'date-time'" [appearance]="'outline'" [color]="'accent'" [field]="child"></df-field-owl-datetime>
																		</ng-container>

																		<ng-container *ngSwitchCase="'owl-daterange'">
																			<df-field-owl-datetime [mode]="'date-range'" [appearance]="'outline'" [color]="'accent'" [field]="child"></df-field-owl-datetime>
																		</ng-container>

																		<ng-container *ngSwitchCase="'owl-timerange'">
																			<df-field-owl-datetime [mode]="'time-range'" [appearance]="'outline'" [color]="'accent'" [field]="child"></df-field-owl-datetime>
																		</ng-container>

																		<ng-container *ngSwitchCase="'owl-datetimerange'">
																			<df-field-owl-datetime [mode]="'date-time-range'" [appearance]="'outline'" [color]="'accent'" [field]="child"></df-field-owl-datetime>
																		</ng-container>

																		<ng-container *ngSwitchCase="'select'">
																			<df-field-select appearance="outline" color="accent" [field]="child" [options]="forms.value[child.field_name + '_options']"></df-field-select>
																		</ng-container>

																		<ng-container *ngSwitchCase="'file'">
																			<df-field-file appearance="outline" color="accent" [field]="child"></df-field-file>
																		</ng-container>

																		<ng-container *ngSwitchCase="'image'">
																			<df-field-image appearance="outline" color="accent" [field]="child"></df-field-image>
																		</ng-container>

																	</ng-container>

																	<!-- Field`s unique error -->
																	<ng-container *ngIf="(uniqueFalseCheckField.hasOwnProperty(child.name_field) && uniqueFalseCheckField[child.name_field]['value'] && (child.field_type !== 'hidden'))">
																		<small class="text-red-500">{{ uniqueFalseCheckField[child.name_field]['error_message'] }}</small>
																		<br>
																	</ng-container>

																	<!-- Field`s errors message -->
																	<ng-container *ngIf="(child.error_message && (child.error_message.length > 0) && (child.field_type !== 'hidden') && (forms.get(child.field_name)?.invalid && (forms.get(child.field_name)?.dirty ||
																	forms.get(child.field_name)?.touched)))">
																		<small class="text-red-500">{{ child.error_message }}</small>
																		<br>
																	</ng-container>

																	<!-- Field`s description -->
																	<ng-container *ngIf="(child.description && (child.description.length > 0) && (child.field_type !== 'hidden'))">
																		<span>{{ child.description }}</span>
																	</ng-container>
																</div>

															</ng-container>

														</div>

														<!-- Direction button -->
														<div class="flex justify-center gap-4">

															<!--<button mat-stroked-button class="flex-initial w-32" [color]="'warn'">Cancel</button>-->

															<ng-container *ngIf="((stepIndex + 1) === 1)">
																<button mat-stroked-button class="flex-initial w-32" [color]="'accent'" matStepperNext>Next</button>
															</ng-container>

															<ng-container *ngIf="((stepIndex + 1) !== 1 && ((stepIndex + 1) !== field.children.length))">
																<button mat-stroked-button class="flex-initial w-32" [color]="'default'" matStepperPrevious>Back</button>
																<button mat-stroked-button class="flex-initial w-32" [color]="'accent'" matStepperNext>Next</button>
															</ng-container>

															<ng-container *ngIf="((stepIndex + 1) === field.children.length)">
																<button mat-stroked-button class="flex-initial w-32" [color]="'default'" matStepperPrevious>Back</button>
																<!--<button mat-raised-button class="flex-initial w-32" [color]="'warn'" (click)="stepper.reset()">Reset</button>-->
																<!--<button mat-raised-button class="flex-initial w-32" [color]="'accent'">Save</button>-->
															</ng-container>

														</div>

													</mat-step>

												</ng-container>

											</mat-stepper>
										</div>
									</ng-container>

									<ng-container *ngSwitchCase="'multiple'">

										<ng-container *ngFor="let childItem of getFormGroup(field.field_name)['controls'] ; let childItemIndex = index;">

											<div [formArrayName]="field.field_name">

												<ng-container [formGroupName]="childItemIndex">

													<ng-container *ngFor="let child of field.children; let childFieldIndex">

														<ng-container [ngSwitch]="child.field_type">

															<ng-container *ngSwitchCase="'text'">
																<df-field-text appearance="outline" color="accent" [field]="child"></df-field-text>
															</ng-container>

															<ng-container *ngSwitchCase="'url'">
																<df-field-url appearance="outline" color="accent" [field]="child"></df-field-url>
															</ng-container>

															<ng-container *ngSwitchCase="'email'">
																<df-field-email appearance="outline" color="accent" [field]="child"></df-field-email>
															</ng-container>

															<ng-container *ngSwitchCase="'number'">
																<df-field-number appearance="outline" color="accent" [field]="child"></df-field-number>
															</ng-container>

															<ng-container *ngSwitchCase="'date'">
																<df-field-date appearance="outline" color="accent" [field]="child"></df-field-date>
															</ng-container>

															<ng-container *ngSwitchCase="'month'">
																<df-field-month appearance="outline" color="accent" [field]="child"></df-field-month>
															</ng-container>

															<ng-container *ngSwitchCase="'year'">
																<df-field-year appearance="outline" color="accent" [field]="child"></df-field-year>
															</ng-container>

															<ng-container *ngSwitchCase="'time'">
																<df-field-time appearance="outline" color="accent" [field]="child"></df-field-time>
															</ng-container>

															<ng-container *ngSwitchCase="'owl-date'">
																<df-field-owl-datetime [mode]="'date'" [appearance]="'outline'" [color]="'accent'" [field]="child"></df-field-owl-datetime>
															</ng-container>

															<ng-container *ngSwitchCase="'owl-month'">
																<df-field-owl-datetime [mode]="'month'" [appearance]="'outline'" [color]="'accent'" [field]="child"></df-field-owl-datetime>
															</ng-container>

															<ng-container *ngSwitchCase="'owl-year'">
																<df-field-owl-datetime [mode]="'year'" [appearance]="'outline'" [color]="'accent'" [field]="child"></df-field-owl-datetime>
															</ng-container>

															<ng-container *ngSwitchCase="'owl-time'">
																<df-field-owl-datetime [mode]="'time'" [appearance]="'outline'" [color]="'accent'" [field]="child"></df-field-owl-datetime>
															</ng-container>

															<ng-container *ngSwitchCase="'owl-datetime'">
																<df-field-owl-datetime [mode]="'date-time'" [appearance]="'outline'" [color]="'accent'" [field]="child"></df-field-owl-datetime>
															</ng-container>

															<ng-container *ngSwitchCase="'owl-daterange'">
																<df-field-owl-datetime [mode]="'date-range'" [appearance]="'outline'" [color]="'accent'" [field]="child"></df-field-owl-datetime>
															</ng-container>

															<ng-container *ngSwitchCase="'owl-timerange'">
																<df-field-owl-datetime [mode]="'time-range'" [appearance]="'outline'" [color]="'accent'" [field]="child"></df-field-owl-datetime>
															</ng-container>

															<ng-container *ngSwitchCase="'owl-datetimerange'">
																<df-field-owl-datetime [mode]="'date-time-range'" [appearance]="'outline'" [color]="'accent'" [field]="child"></df-field-owl-datetime>
															</ng-container>

															<ng-container *ngSwitchCase="'select'">
																<df-field-select appearance="outline" color="accent" [field]="child"
																	[options]="forms.value[child.field_name + '_options']"></df-field-select>
															</ng-container>

															<ng-container *ngSwitchCase="'file'">
																<df-field-file appearance="outline" color="accent" [field]="child"></df-field-file>
															</ng-container>

															<ng-container *ngSwitchCase="'image'">
																<df-field-image appearance="outline" color="accent" [field]="child"></df-field-image>
															</ng-container>

														</ng-container>

													</ng-container>

												</ng-container>

											</div>

										</ng-container>

									</ng-container>

									<!-- Group Fields End -->

								</ng-container>
							</div>
						</ng-container>
					</div>

					<!-- Below form -->
					<div class="below-form" [ngClass]="[
						(available.grid_system?.type === 'bootstrap') ? '' : '',
						(available.grid_system?.type === 'tailwind') ? '' : '',
					]">
						<mat-divider></mat-divider>

						<div class="flex justify-center gap-4 mt-7">
							<button mat-stroked-button class="flex-initial w-32" [color]="'warn'" (click)="onFormCancelButtonClick()" [disabled]="available.cancel_button_disabled">Cancel</button>
							<button mat-raised-button class="flex-initial w-32" [color]="'accent'" (click)="onFormSubmitButtonClick()" [disabled]="available.submit_button_disabled || !(forms.valid)">Save</button>
						</div>
					</div>

				</form>

			</ng-container>

		</ng-container>

	</mat-card-content>
</mat-card>