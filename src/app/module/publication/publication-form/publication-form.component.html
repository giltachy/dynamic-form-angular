<mat-card class="max-w-none m-7">
	<mat-card-title>Publication`s form</mat-card-title>
	<mat-card-subtitle>Form of publication</mat-card-subtitle>

	<mat-divider></mat-divider>

	<mat-card-content>

		<ng-container *ngIf="(available.no_data)">No data</ng-container>

		<ng-container *ngIf="(!available.no_data && available.form_builder && !available.publication_type_loaded)">
			<app-loader></app-loader>
		</ng-container>

		<ng-container *ngIf="(!available.no_data && available.form_builder && available.publication_type_loaded)">
			<form [formGroup]="forms" class="grid grid-cols-1 gap-4">

				<mat-form-field appearance="outline" [color]="'accent'">
					<mat-label>Publication type</mat-label>
					<mat-select [formControlName]="'publication_type_uuid'" (selectionChange)="onPublicationTypeClick($event)">
						<ng-container *ngFor="let publicationType of selectOptions['publication_type'].items; let publicationTypeIndex = index;">
							<mat-option [value]="publicationType.uuid">{{ publicationType.publication_type_name + ' [ ' + publicationType.publication_type_code + ' ]' }}</mat-option>
						</ng-container>
					</mat-select>
				</mat-form-field>

				<!--<ngx-select
					class="form-control"
					id="publication_type_uuid"
					placeholder="-- Choose publication type --"
					[formControlName]="'publication_type_uuid'"
					[items]="selectOptions['publication_type'].items"
					[optionTextField]="'publication_type_name'"
					[optionValueField]="'uuid'"
					[defaultValue]="selectOptions['publication_type'].defaultValue"
					(selectionChanges)="onPublicationTypeClick($event)"
				></ngx-select>-->

				<ng-container *ngIf="(available.publication_type_selected && !available.form_metadata_loaded)">
					<app-loader></app-loader>
				</ng-container>

				<ng-container *ngIf="(available.publication_type_selected && available.form_metadata_loaded)">

					<ng-container *ngFor="let field of forms_metadata; let fieldIndex = index;">
						<div class="field field-{{ fieldIndex }}">

							<!-- Field label -->
							<!--<mat-label>{{ field.field_label }}</mat-label>-->

							<ng-container [ngSwitch]="field.field_type">

								<ng-container *ngSwitchCase="'text'">
									<mat-form-field appearance="outline" [color]="'accent'">
										<mat-label>{{ field.field_label }}</mat-label>
										<input matInput [formControlName]="field.field_name" [placeholder]="field.field_placeholder">
									</mat-form-field>
								</ng-container>

								<ng-container *ngSwitchCase="'url'">
									<mat-form-field appearance="outline" [color]="'accent'">
										<mat-label>{{ field.field_label }}</mat-label>
										<input matInput [formControlName]="field.field_name" [placeholder]="field.field_placeholder">
									</mat-form-field>
								</ng-container>

								<ng-container *ngSwitchCase="'number'">
									<mat-form-field appearance="outline" [color]="'accent'">
										<mat-label>{{ field.field_label }}</mat-label>
										<input matInput type="number" [formControlName]="field.field_name" [placeholder]="field.field_placeholder" [min]="field.validation_config?.min || 0">
									</mat-form-field>
								</ng-container>

								<ng-container *ngSwitchCase="'date'">
									<app-datetime-picker [mode]="'date'" [appearance]="'outline'" [color]="'accent'" [fieldControl]="getFieldControl(field.field_name)" [label]="field.field_label" [placeholder]="field.field_placeholder"></app-datetime-picker>
								</ng-container>

								<ng-container *ngSwitchCase="'month'">
									<app-datetime-picker [mode]="'month'" [appearance]="'outline'" [color]="'accent'" [fieldControl]="getFieldControl(field.field_name)" [label]="field.field_label" [placeholder]="field.field_placeholder"></app-datetime-picker>
								</ng-container>

								<ng-container *ngSwitchCase="'year'">
									<app-datetime-picker [mode]="'year'" [appearance]="'outline'" [color]="'accent'" [fieldControl]="getFieldControl(field.field_name)" [label]="field.field_label" [placeholder]="field.field_placeholder"></app-datetime-picker>
								</ng-container>

								<ng-container *ngSwitchCase="'owl-date'">
									<app-owl-datetime-picker [mode]="'date'" [appearance]="'outline'" [color]="'accent'" [owlFieldControl]="getFieldControl(field.field_name)" [label]="field.field_label" [placeholder]="field.field_placeholder"></app-owl-datetime-picker>
								</ng-container>

								<ng-container *ngSwitchCase="'owl-month'">
									<app-owl-datetime-picker [mode]="'month'" [appearance]="'outline'" [color]="'accent'" [owlFieldControl]="getFieldControl(field.field_name)" [label]="field.field_label" [placeholder]="field.field_placeholder"></app-owl-datetime-picker>
								</ng-container>

								<ng-container *ngSwitchCase="'owl-year'">
									<app-owl-datetime-picker [mode]="'year'" [appearance]="'outline'" [color]="'accent'" [owlFieldControl]="getFieldControl(field.field_name)" [label]="field.field_label" [placeholder]="field.field_placeholder"></app-owl-datetime-picker>
								</ng-container>

								<ng-container *ngSwitchCase="'owl-time'">
									<app-owl-datetime-picker [mode]="'time'" [appearance]="'outline'" [color]="'accent'" [owlFieldControl]="getFieldControl(field.field_name)" [label]="field.field_label" [placeholder]="field.field_placeholder"></app-owl-datetime-picker>
								</ng-container>

								<ng-container *ngSwitchCase="'owl-datetime'">
									<app-owl-datetime-picker [mode]="'datetime'" [appearance]="'outline'" [color]="'accent'" [owlFieldControl]="getFieldControl(field.field_name)" [label]="field.field_label" [placeholder]="field.field_placeholder"></app-owl-datetime-picker>
								</ng-container>

								<ng-container *ngSwitchCase="'owl-daterange'">
									<app-owl-datetime-picker [mode]="'daterange'" [appearance]="'outline'" [color]="'accent'" [owlFieldControl]="getFieldControl(field.field_name)" [label]="field.field_label" [placeholder]="field.field_placeholder"></app-owl-datetime-picker>
								</ng-container>

								<ng-container *ngSwitchCase="'owl-timerange'">
									<app-owl-datetime-picker [mode]="'timerange'" [appearance]="'outline'" [color]="'accent'" [owlFieldControl]="getFieldControl(field.field_name)" [label]="field.field_label" [placeholder]="field.field_placeholder"></app-owl-datetime-picker>
								</ng-container>

								<ng-container *ngSwitchCase="'owl-datetimerange'">
									<app-owl-datetime-picker [mode]="'datetimerange'" [appearance]="'outline'" [color]="'accent'" [owlFieldControl]="getFieldControl(field.field_name)" [label]="field.field_label" [placeholder]="field.field_placeholder"></app-owl-datetime-picker>
								</ng-container>

								<ng-container *ngSwitchCase="'select'">
									<mat-form-field appearance="outline" [color]="'accent'">
										<mat-label>{{ field.field_label }}</mat-label>
										<mat-select [formControlName]="field.field_name" [placeholder]="field.field_placeholder || 'Please select a data'">
											<ng-container *ngFor="let option of forms.value[field.field_name + '_options']['items']; let optionIndex = index;">
												<mat-option [value]="option.uuid">{{ option.value }}</mat-option>
											</ng-container>
										</mat-select>
									</mat-form-field>
								</ng-container>

								<ng-container *ngSwitchCase="'panel'">

									<ng-container *ngFor="let child of field.children; let stepIndex = index;">

										<ng-container [ngSwitch]="child.field_type">

											<ng-container *ngSwitchCase="'text'">
												<mat-form-field appearance="outline" [color]="'accent'">
													<mat-label>{{ child.field_label }}</mat-label>
													<input matInput [formControlName]="child.field_name" [placeholder]="child.field_placeholder">
												</mat-form-field>
											</ng-container>

											<ng-container *ngSwitchCase="'url'">
												<mat-form-field appearance="outline" [color]="'accent'">
													<mat-label>{{ child.field_label }}</mat-label>
													<input matInput [formControlName]="child.field_name" [placeholder]="child.field_placeholder">
												</mat-form-field>
											</ng-container>

											<ng-container *ngSwitchCase="'number'">
												<mat-form-field appearance="outline" [color]="'accent'">
													<mat-label>{{ child.field_label }}</mat-label>
													<input matInput type="number" [formControlName]="child.field_name" [placeholder]="child.field_placeholder"
														[min]="child.validation_config.min || 0">
												</mat-form-field>
											</ng-container>

											<ng-container *ngSwitchCase="'date'">
												<app-datetime-picker [mode]="'date'" [appearance]="'outline'" [color]="'accent'" [fieldControl]="getFieldControl(child.field_name)" [label]="child.field_label" [placeholder]="child.field_placeholder"></app-datetime-picker>
											</ng-container>

											<ng-container *ngSwitchCase="'month'">
												<app-datetime-picker [mode]="'month'" [appearance]="'outline'" [color]="'accent'" [fieldControl]="getFieldControl(child.field_name)" [label]="child.field_label" [placeholder]="child.field_placeholder"></app-datetime-picker>
											</ng-container>

											<ng-container *ngSwitchCase="'year'">
												<app-datetime-picker [mode]="'year'" [appearance]="'outline'" [color]="'accent'" [fieldControl]="getFieldControl(child.field_name)" [label]="child.field_label" [placeholder]="child.field_placeholder"></app-datetime-picker>
											</ng-container>

											<ng-container *ngSwitchCase="'owl-date'">
												<app-owl-datetime-picker [mode]="'date'" [appearance]="'outline'" [color]="'accent'" [owlFieldControl]="getFieldControl(child.field_name)" [label]="child.field_label" [placeholder]="child.field_placeholder"></app-owl-datetime-picker>
											</ng-container>

											<ng-container *ngSwitchCase="'owl-month'">
												<app-owl-datetime-picker [mode]="'month'" [appearance]="'outline'" [color]="'accent'" [owlFieldControl]="getFieldControl(child.field_name)" [label]="child.field_label" [placeholder]="child.field_placeholder"></app-owl-datetime-picker>
											</ng-container>

											<ng-container *ngSwitchCase="'owl-year'">
												<app-owl-datetime-picker [mode]="'year'" [appearance]="'outline'" [color]="'accent'" [owlFieldControl]="getFieldControl(child.field_name)" [label]="child.field_label" [placeholder]="child.field_placeholder"></app-owl-datetime-picker>
											</ng-container>

											<ng-container *ngSwitchCase="'owl-time'">
												<app-owl-datetime-picker [mode]="'time'" [appearance]="'outline'" [color]="'accent'" [owlFieldControl]="getFieldControl(child.field_name)" [label]="child.field_label" [placeholder]="child.field_placeholder"></app-owl-datetime-picker>
											</ng-container>

											<ng-container *ngSwitchCase="'owl-datetime'">
												<app-owl-datetime-picker [mode]="'datetime'" [appearance]="'outline'" [color]="'accent'" [owlFieldControl]="getFieldControl(child.field_name)" [label]="child.field_label" [placeholder]="child.field_placeholder"></app-owl-datetime-picker>
											</ng-container>

											<ng-container *ngSwitchCase="'owl-daterange'">
												<app-owl-datetime-picker [mode]="'daterange'" [appearance]="'outline'" [color]="'accent'" [owlFieldControl]="getFieldControl(child.field_name)" [label]="child.field_label" [placeholder]="child.field_placeholder"></app-owl-datetime-picker>
											</ng-container>

											<ng-container *ngSwitchCase="'owl-timerange'">
												<app-owl-datetime-picker [mode]="'timerange'" [appearance]="'outline'" [color]="'accent'" [owlFieldControl]="getFieldControl(child.field_name)" [label]="child.field_label" [placeholder]="child.field_placeholder"></app-owl-datetime-picker>
											</ng-container>

											<ng-container *ngSwitchCase="'owl-datetimerange'">
												<app-owl-datetime-picker [mode]="'datetimerange'" [appearance]="'outline'" [color]="'accent'" [owlFieldControl]="getFieldControl(child.field_name)" [label]="child.field_label" [placeholder]="child.field_placeholder"></app-owl-datetime-picker>
											</ng-container>

											<ng-container *ngSwitchCase="'select'">
												<mat-form-field appearance="outline" [color]="'accent'">
													<mat-label>{{ child.field_label }}</mat-label>
													<mat-select [formControlName]="child.field_name" [placeholder]="child.field_placeholder || 'Please select a data'">
														<ng-container *ngFor="let option of forms.value[child.field_name + '_options']['items']; let optionIndex = index;">
															<mat-option [value]="option.uuid">{{ option.value }}</mat-option>
														</ng-container>
													</mat-select>
												</mat-form-field>
											</ng-container>

										</ng-container>

									</ng-container>

								</ng-container>

								<ng-container *ngSwitchCase="'well'">

									<ng-container *ngFor="let child of field.children; let stepIndex = index;">

										<ng-container [ngSwitch]="child.field_type">

											<ng-container *ngSwitchCase="'text'">
												<mat-form-field appearance="outline" [color]="'accent'">
													<mat-label>{{ child.field_label }}</mat-label>
													<input matInput [formControlName]="child.field_name" [placeholder]="child.field_placeholder">
												</mat-form-field>
											</ng-container>

											<ng-container *ngSwitchCase="'url'">
												<mat-form-field appearance="outline" [color]="'accent'">
													<mat-label>{{ child.field_label }}</mat-label>
													<input matInput [formControlName]="child.field_name" [placeholder]="child.field_placeholder">
												</mat-form-field>
											</ng-container>

											<ng-container *ngSwitchCase="'number'">
												<mat-form-field appearance="outline" [color]="'accent'">
													<mat-label>{{ child.field_label }}</mat-label>
													<input matInput type="number" [formControlName]="child.field_name" [placeholder]="child.field_placeholder" [min]="child.validation_config.min || 0">
												</mat-form-field>
											</ng-container>

											<ng-container *ngSwitchCase="'date'">
												<app-datetime-picker [mode]="'date'" [appearance]="'outline'" [color]="'accent'" [fieldControl]="getFieldControl(child.field_name)" [label]="child.field_label" [placeholder]="child.field_placeholder"></app-datetime-picker>
											</ng-container>

											<ng-container *ngSwitchCase="'month'">
												<app-datetime-picker [mode]="'month'" [appearance]="'outline'" [color]="'accent'" [fieldControl]="getFieldControl(child.field_name)" [label]="child.field_label" [placeholder]="child.field_placeholder"></app-datetime-picker>
											</ng-container>

											<ng-container *ngSwitchCase="'year'">
												<app-datetime-picker [mode]="'year'" [appearance]="'outline'" [color]="'accent'" [fieldControl]="getFieldControl(child.field_name)" [label]="child.field_label" [placeholder]="child.field_placeholder"></app-datetime-picker>
											</ng-container>

											<ng-container *ngSwitchCase="'owl-date'">
												<app-owl-datetime-picker [mode]="'date'" [appearance]="'outline'" [color]="'accent'" [owlFieldControl]="getFieldControl(child.field_name)" [label]="child.field_label" [placeholder]="child.field_placeholder"></app-owl-datetime-picker>
											</ng-container>

											<ng-container *ngSwitchCase="'owl-month'">
												<app-owl-datetime-picker [mode]="'month'" [appearance]="'outline'" [color]="'accent'" [owlFieldControl]="getFieldControl(child.field_name)" [label]="child.field_label" [placeholder]="child.field_placeholder"></app-owl-datetime-picker>
											</ng-container>

											<ng-container *ngSwitchCase="'owl-year'">
												<app-owl-datetime-picker [mode]="'year'" [appearance]="'outline'" [color]="'accent'" [owlFieldControl]="getFieldControl(child.field_name)" [label]="child.field_label" [placeholder]="child.field_placeholder"></app-owl-datetime-picker>
											</ng-container>

											<ng-container *ngSwitchCase="'owl-time'">
												<app-owl-datetime-picker [mode]="'time'" [appearance]="'outline'" [color]="'accent'" [owlFieldControl]="getFieldControl(child.field_name)" [label]="child.field_label" [placeholder]="child.field_placeholder"></app-owl-datetime-picker>
											</ng-container>

											<ng-container *ngSwitchCase="'owl-datetime'">
												<app-owl-datetime-picker [mode]="'datetime'" [appearance]="'outline'" [color]="'accent'" [owlFieldControl]="getFieldControl(child.field_name)" [label]="child.field_label" [placeholder]="child.field_placeholder"></app-owl-datetime-picker>
											</ng-container>

											<ng-container *ngSwitchCase="'owl-daterange'">
												<app-owl-datetime-picker [mode]="'daterange'" [appearance]="'outline'" [color]="'accent'" [owlFieldControl]="getFieldControl(child.field_name)" [label]="child.field_label" [placeholder]="child.field_placeholder"></app-owl-datetime-picker>
											</ng-container>

											<ng-container *ngSwitchCase="'owl-timerange'">
												<app-owl-datetime-picker [mode]="'timerange'" [appearance]="'outline'" [color]="'accent'" [owlFieldControl]="getFieldControl(child.field_name)" [label]="child.field_label" [placeholder]="child.field_placeholder"></app-owl-datetime-picker>
											</ng-container>

											<ng-container *ngSwitchCase="'owl-datetimerange'">
												<app-owl-datetime-picker [mode]="'datetimerange'" [appearance]="'outline'" [color]="'accent'" [owlFieldControl]="getFieldControl(child.field_name)" [label]="child.field_label" [placeholder]="child.field_placeholder"></app-owl-datetime-picker>
											</ng-container>

											<ng-container *ngSwitchCase="'select'">
												<mat-form-field appearance="outline" [color]="'accent'">
													<mat-label>{{ child.field_label }}</mat-label>
													<mat-select [formControlName]="child.field_name" [placeholder]="child.field_placeholder || 'Please select a data'">
														<ng-container *ngFor="let option of forms.value[child.field_name + '_options']['items']; let optionIndex = index;">
															<mat-option [value]="option.uuid">{{ option.value }}</mat-option>
														</ng-container>
													</mat-select>
												</mat-form-field>
											</ng-container>

										</ng-container>

									</ng-container>

								</ng-container>

								<ng-container *ngSwitchCase="'accordion'">
									<div>
										<mat-label>{{ field.field_label }}</mat-label>

										<mat-accordion class="mat-elevation-z8" [hideToggle]="false" multi>

											<ng-container *ngFor="let panel of field.children; let panelIndex = index;">

												<mat-expansion-panel class="mat-elevation-z8" [expanded]="true" [hideToggle]="false">
													<!-- Header -->
													<mat-expansion-panel-header class="divider-bottom">
														<mat-panel-title>{{ panel.field_label }}</mat-panel-title>
														<mat-panel-description class="justify-between">
															<span>{{ panel.description }}</span>
															<ng-container *ngIf="(panel.field_configs?.panel_description?.mat_icon)">
																<mat-icon>{{ panel.field_configs?.panel_description?.mat_icon }}</mat-icon>
															</ng-container>
														</mat-panel-description>
													</mat-expansion-panel-header>

													<!-- Content -->
													<div class="grid grid-cols-1 gap-y-4">
														<ng-container *ngFor="let child of panel.children; let childFieldIndex = index;">

															<div [ngClass]="[(childFieldIndex === 0) ? 'mt-4' : '', (childFieldIndex === (panel.children.length - 1)) ? 'mb-4' : '']">
																<ng-container [ngSwitch]="child.field_type">

																	<ng-container *ngSwitchCase="'text'">
																		<mat-form-field appearance="outline" [color]="'accent'">
																			<mat-label>{{ child.field_label }}</mat-label>
																			<input matInput [formControlName]="child.field_name" [placeholder]="child.field_placeholder">
																		</mat-form-field>
																	</ng-container>

																	<ng-container *ngSwitchCase="'url'">
																		<mat-form-field appearance="outline" [color]="'accent'">
																			<mat-label>{{ child.field_label }}</mat-label>
																			<input matInput [formControlName]="child.field_name" [placeholder]="child.field_placeholder">
																		</mat-form-field>
																	</ng-container>

																	<ng-container *ngSwitchCase="'number'">
																		<mat-form-field appearance="outline" [color]="'accent'">
																			<mat-label>{{ child.field_label }}</mat-label>
																			<input matInput type="number" [formControlName]="child.field_name" [placeholder]="child.field_placeholder" [min]="child.validation_config?.min || 0">
																		</mat-form-field>
																	</ng-container>

																	<ng-container *ngSwitchCase="'date'">
																		<app-datetime-picker [mode]="'date'" [appearance]="'outline'" [color]="'accent'" [fieldControl]="getFieldControl(child.field_name)" [label]="child.field_label" [placeholder]="child.field_placeholder"></app-datetime-picker>
																	</ng-container>

																	<ng-container *ngSwitchCase="'month'">
																		<app-datetime-picker [mode]="'month'" [appearance]="'outline'" [color]="'accent'" [fieldControl]="getFieldControl(child.field_name)" [label]="child.field_label" [placeholder]="child.field_placeholder"></app-datetime-picker>
																	</ng-container>

																	<ng-container *ngSwitchCase="'year'">
																		<app-datetime-picker [mode]="'year'" [appearance]="'outline'" [color]="'accent'" [fieldControl]="getFieldControl(child.field_name)" [label]="child.field_label" [placeholder]="child.field_placeholder"></app-datetime-picker>
																	</ng-container>

																	<ng-container *ngSwitchCase="'owl-date'">
																		<app-owl-datetime-picker [mode]="'date'" [appearance]="'outline'" [color]="'accent'" [owlFieldControl]="getFieldControl(child.field_name)" [label]="child.field_label" [placeholder]="child.field_placeholder"></app-owl-datetime-picker>
																	</ng-container>

																	<ng-container *ngSwitchCase="'owl-month'">
																		<app-owl-datetime-picker [mode]="'month'" [appearance]="'outline'" [color]="'accent'" [owlFieldControl]="getFieldControl(child.field_name)" [label]="child.field_label" [placeholder]="child.field_placeholder"></app-owl-datetime-picker>
																	</ng-container>

																	<ng-container *ngSwitchCase="'owl-year'">
																		<app-owl-datetime-picker [mode]="'year'" [appearance]="'outline'" [color]="'accent'" [owlFieldControl]="getFieldControl(child.field_name)" [label]="child.field_label" [placeholder]="child.field_placeholder"></app-owl-datetime-picker>
																	</ng-container>

																	<ng-container *ngSwitchCase="'owl-time'">
																		<app-owl-datetime-picker [mode]="'time'" [appearance]="'outline'" [color]="'accent'" [owlFieldControl]="getFieldControl(child.field_name)" [label]="child.field_label" [placeholder]="child.field_placeholder"></app-owl-datetime-picker>
																	</ng-container>

																	<ng-container *ngSwitchCase="'owl-datetime'">
																		<app-owl-datetime-picker [mode]="'datetime'" [appearance]="'outline'" [color]="'accent'" [owlFieldControl]="getFieldControl(child.field_name)" [label]="child.field_label" [placeholder]="child.field_placeholder"></app-owl-datetime-picker>
																	</ng-container>

																	<ng-container *ngSwitchCase="'owl-daterange'">
																		<app-owl-datetime-picker [mode]="'daterange'" [appearance]="'outline'" [color]="'accent'" [owlFieldControl]="getFieldControl(child.field_name)" [label]="child.field_label" [placeholder]="child.field_placeholder"></app-owl-datetime-picker>
																	</ng-container>

																	<ng-container *ngSwitchCase="'owl-timerange'">
																		<app-owl-datetime-picker [mode]="'timerange'" [appearance]="'outline'" [color]="'accent'" [owlFieldControl]="getFieldControl(child.field_name)" [label]="child.field_label" [placeholder]="child.field_placeholder"></app-owl-datetime-picker>
																	</ng-container>

																	<ng-container *ngSwitchCase="'owl-datetimerange'">
																		<app-owl-datetime-picker [mode]="'datetimerange'" [appearance]="'outline'" [color]="'accent'" [owlFieldControl]="getFieldControl(child.field_name)" [label]="child.field_label" [placeholder]="child.field_placeholder"></app-owl-datetime-picker>
																	</ng-container>

																	<ng-container *ngSwitchCase="'select'">
																		<mat-form-field appearance="outline" [color]="'accent'">
																			<mat-label>{{ child.field_label }}</mat-label>
																			<mat-select [formControlName]="child.field_name" [placeholder]="child.field_placeholder || 'Please select a data'">
																				<ng-container *ngFor="let option of forms.value[child.field_name + '_options']['items']; let optionIndex = index;">
																					<mat-option [value]="option.uuid">{{ option.value }}</mat-option>
																				</ng-container>
																			</mat-select>
																		</mat-form-field>
																	</ng-container>

																</ng-container>

																<!-- Field`s unique error -->
																<ng-container *ngIf="(uniqueFalseCheckField.hasOwnProperty(child.name_field) && uniqueFalseCheckField[child.name_field]['value'] && (child.field_type !== 'hidden'))">
																	<small class="text-red-500">{{ uniqueFalseCheckField[child.name_field]['error_message'] }}</small>
																	<br>
																</ng-container>

																<!-- Field`s errors message -->
																<ng-container *ngIf="(child.error_message && (child.error_message.length > 0) && (child.field_type !== 'hidden') && (forms.get(child.field_name)?.invalid && (forms.get(child.field_name)?.dirty ||
																forms.get(child.field_name)?.touched)))">
																	<small class="text-red-500">{{ child.error_message }}</small>
																	<br>
																</ng-container>

																<!-- Field`s description -->
																<ng-container *ngIf="(child.description && (child.description.length > 0) && (child.field_type !== 'hidden'))">
																	<span>{{ child.description }}</span>
																</ng-container>
															</div>

														</ng-container>
													</div>
												</mat-expansion-panel>

											</ng-container>

										</mat-accordion>
									</div>
								</ng-container>

								<ng-container *ngSwitchCase="'stepper'">
									<div class="border-custom m-0 p-0"> <!-- class:border-custom -->
										<mat-label class="ml-1 mt-5">{{ field.field_label }}</mat-label>

										<mat-stepper class="-z-10" [orientation]="field.field_configs.orientation" [linear]="field.field_configs.linear" [color]="'accent'" #stepper>

											<ng-container *ngFor="let step of field.children; let stepIndex = index;">

												<mat-step class="-z-10" [label]="step.field_label">

													<ng-container class="grid grid-cols-1 gap-4" *ngFor="let child of step.children; let childFieldIndex = index;">

														<div class="mb-4">
															<ng-container [ngSwitch]="child.field_type">

																<ng-container *ngSwitchCase="'text'">
																	<mat-form-field appearance="outline" [color]="'accent'">
																		<mat-label>{{ child.field_label }}</mat-label>
																		<input matInput [formControlName]="child.field_name" [placeholder]="child.field_placeholder">
																	</mat-form-field>
																</ng-container>

																<ng-container *ngSwitchCase="'url'">
																	<mat-form-field appearance="outline" [color]="'accent'">
																		<mat-label>{{ child.field_label }}</mat-label>
																		<input matInput [formControlName]="child.field_name" [placeholder]="child.field_placeholder">
																	</mat-form-field>
																</ng-container>

																<ng-container *ngSwitchCase="'number'">
																	<mat-form-field appearance="outline" [color]="'accent'">
																		<mat-label>{{ child.field_label }}</mat-label>
																		<input matInput type="number" [formControlName]="child.field_name" [placeholder]="child.field_placeholder" [min]="child.validation_config?.min || 0">
																	</mat-form-field>
																</ng-container>

																<ng-container *ngSwitchCase="'date'">
																	<app-datetime-picker [mode]="'date'" [appearance]="'outline'" [color]="'accent'" [fieldControl]="getFieldControl(child.field_name)" [label]="child.field_label" [placeholder]="child.field_placeholder"></app-datetime-picker>
																</ng-container>

																<ng-container *ngSwitchCase="'month'">
																	<app-datetime-picker [mode]="'month'" [appearance]="'outline'" [color]="'accent'" [fieldControl]="getFieldControl(child.field_name)" [label]="child.field_label" [placeholder]="child.field_placeholder"></app-datetime-picker>
																</ng-container>

																<ng-container *ngSwitchCase="'year'">
																	<app-datetime-picker [mode]="'year'" [appearance]="'outline'" [color]="'accent'" [fieldControl]="getFieldControl(child.field_name)" [label]="child.field_label" [placeholder]="child.field_placeholder"></app-datetime-picker>
																</ng-container>

																<ng-container *ngSwitchCase="'owl-date'">
																	<app-owl-datetime-picker [mode]="'date'" [appearance]="'outline'" [color]="'accent'" [owlFieldControl]="getFieldControl(child.field_name)" [label]="child.field_label" [placeholder]="child.field_placeholder"></app-owl-datetime-picker>
																</ng-container>

																<ng-container *ngSwitchCase="'owl-month'">
																	<app-owl-datetime-picker [mode]="'month'" [appearance]="'outline'" [color]="'accent'" [owlFieldControl]="getFieldControl(child.field_name)" [label]="child.field_label" [placeholder]="child.field_placeholder"></app-owl-datetime-picker>
																</ng-container>

																<ng-container *ngSwitchCase="'owl-year'">
																	<app-owl-datetime-picker [mode]="'year'" [appearance]="'outline'" [color]="'accent'" [owlFieldControl]="getFieldControl(child.field_name)" [label]="child.field_label" [placeholder]="child.field_placeholder"></app-owl-datetime-picker>
																</ng-container>

																<ng-container *ngSwitchCase="'owl-time'">
																	<app-owl-datetime-picker [mode]="'time'" [appearance]="'outline'" [color]="'accent'" [owlFieldControl]="getFieldControl(child.field_name)" [label]="child.field_label" [placeholder]="child.field_placeholder"></app-owl-datetime-picker>
																</ng-container>

																<ng-container *ngSwitchCase="'owl-datetime'">
																	<app-owl-datetime-picker [mode]="'datetime'" [appearance]="'outline'" [color]="'accent'" [owlFieldControl]="getFieldControl(child.field_name)" [label]="child.field_label" [placeholder]="child.field_placeholder"></app-owl-datetime-picker>
																</ng-container>

																<ng-container *ngSwitchCase="'owl-daterange'">
																	<app-owl-datetime-picker [mode]="'daterange'" [appearance]="'outline'" [color]="'accent'" [owlFieldControl]="getFieldControl(child.field_name)" [label]="child.field_label" [placeholder]="child.field_placeholder"></app-owl-datetime-picker>
																</ng-container>

																<ng-container *ngSwitchCase="'owl-timerange'">
																	<app-owl-datetime-picker [mode]="'timerange'" [appearance]="'outline'" [color]="'accent'" [owlFieldControl]="getFieldControl(child.field_name)" [label]="child.field_label" [placeholder]="child.field_placeholder"></app-owl-datetime-picker>
																</ng-container>

																<ng-container *ngSwitchCase="'owl-datetimerange'">
																	<app-owl-datetime-picker [mode]="'datetimerange'" [appearance]="'outline'" [color]="'accent'" [owlFieldControl]="getFieldControl(child.field_name)" [label]="child.field_label" [placeholder]="child.field_placeholder"></app-owl-datetime-picker>
																</ng-container>

																<ng-container *ngSwitchCase="'select'">
																	<mat-form-field appearance="outline" [color]="'accent'">
																		<mat-label>{{ child.field_label }}</mat-label>
																		<mat-select [formControlName]="child.field_name" [placeholder]="child.field_placeholder || 'Please select a data'">
																			<ng-container *ngFor="let option of forms.value[child.field_name + '_options']['items']; let optionIndex = index;">
																				<mat-option [value]="option.uuid">{{ option.value }}</mat-option>
																			</ng-container>
																		</mat-select>
																	</mat-form-field>
																</ng-container>

															</ng-container>

															<!-- Field`s unique error -->
															<ng-container *ngIf="(uniqueFalseCheckField.hasOwnProperty(child.name_field) && uniqueFalseCheckField[child.name_field]['value'] && (child.field_type !== 'hidden'))">
																<small class="text-red-500">{{ uniqueFalseCheckField[child.name_field]['error_message'] }}</small>
																<br>
															</ng-container>

															<!-- Field`s errors message -->
															<ng-container *ngIf="(child.error_message && (child.error_message.length > 0) && (child.field_type !== 'hidden') && (forms.get(child.field_name)?.invalid && (forms.get(child.field_name)?.dirty ||
															forms.get(child.field_name)?.touched)))">
																<small class="text-red-500">{{ child.error_message }}</small>
																<br>
															</ng-container>

															<!-- Field`s description -->
															<ng-container *ngIf="(child.description && (child.description.length > 0) && (child.field_type !== 'hidden'))">
																<span>{{ child.description }}</span>
															</ng-container>
														</div>

													</ng-container>

													<!-- Direction button -->
													<div class="flex justify-center gap-4">

														<!--<button mat-stroked-button class="flex-initial w-32" [color]="'warn'">Cancel</button>-->

														<ng-container *ngIf="((stepIndex + 1) === 1)">
															<button mat-stroked-button class="flex-initial w-32" [color]="'accent'" matStepperNext>Next</button>
														</ng-container>

														<ng-container *ngIf="((stepIndex + 1) !== 1 && ((stepIndex + 1) !== field.children.length))">
															<button mat-stroked-button class="flex-initial w-32" [color]="'default'" matStepperPrevious>Back</button>
															<button mat-stroked-button class="flex-initial w-32" [color]="'accent'" matStepperNext>Next</button>
														</ng-container>

														<ng-container *ngIf="((stepIndex + 1) === field.children.length)">
															<button mat-stroked-button class="flex-initial w-32" [color]="'default'" matStepperPrevious>Back</button>
															<!--<button mat-raised-button class="flex-initial w-32" [color]="'warn'" (click)="stepper.reset()">Reset</button>-->
															<!--<button mat-raised-button class="flex-initial w-32" [color]="'accent'">Save</button>-->
														</ng-container>

													</div>

												</mat-step>

											</ng-container>

										</mat-stepper>
									</div>
								</ng-container>

								<ng-container *ngSwitchCase="'multiple'">

									<ng-container *ngFor="let childItem of getFormGroupControls(field.field_name)['controls'] ; let childItemIndex = index;">

										<div [formArrayName]="field.field_name">

											<ng-container [formGroupName]="childItemIndex">

												<ng-container *ngFor="let child of field.children; let childFieldIndex">

													<ng-container [ngSwitch]="child.field_type">

														<ng-container *ngSwitchCase="'text'">
															<mat-form-field appearance="outline" [color]="'accent'">
																<input matInput [formControlName]="child.field_name" [placeholder]="child.field_placeholder">
															</mat-form-field>
														</ng-container>

														<ng-container *ngSwitchCase="'url'">
															<mat-form-field appearance="outline" [color]="'accent'">
																<mat-label>{{ child.field_label }}</mat-label>
																<input matInput [formControlName]="child.field_name" [placeholder]="child.field_placeholder">
															</mat-form-field>
														</ng-container>

														<ng-container *ngSwitchCase="'number'">
															<mat-form-field appearance="outline" [color]="'accent'">
																<mat-label>{{ child.field_label }}</mat-label>
																<input matInput type="number" [formControlName]="child.field_name" [placeholder]="child.field_placeholder" [min]="child.validation_config.min || 0">
															</mat-form-field>
														</ng-container>

														<ng-container *ngSwitchCase="'date'">
															<app-datetime-picker [mode]="'date'" [appearance]="'outline'" [color]="'accent'" [fieldControl]="getFieldControl(child.field_name)" [label]="child.field_label" [placeholder]="child.field_placeholder"></app-datetime-picker>
														</ng-container>

														<ng-container *ngSwitchCase="'month'">
															<app-datetime-picker [mode]="'month'" [appearance]="'outline'" [color]="'accent'" [fieldControl]="getFieldControl(child.field_name)" [label]="child.field_label" [placeholder]="child.field_placeholder"></app-datetime-picker>
														</ng-container>

														<ng-container *ngSwitchCase="'year'">
															<app-datetime-picker [mode]="'year'" [appearance]="'outline'" [color]="'accent'" [fieldControl]="getFieldControl(child.field_name)" [label]="child.field_label" [placeholder]="child.field_placeholder"></app-datetime-picker>
														</ng-container>

														<ng-container *ngSwitchCase="'owl-date'">
															<app-owl-datetime-picker [mode]="'date'" [appearance]="'outline'" [color]="'accent'" [owlFieldControl]="getFieldControl(child.field_name)" [label]="child.field_label" [placeholder]="child.field_placeholder"></app-owl-datetime-picker>
														</ng-container>

														<ng-container *ngSwitchCase="'owl-month'">
															<app-owl-datetime-picker [mode]="'month'" [appearance]="'outline'" [color]="'accent'" [owlFieldControl]="getFieldControl(child.field_name)" [label]="child.field_label" [placeholder]="child.field_placeholder"></app-owl-datetime-picker>
														</ng-container>

														<ng-container *ngSwitchCase="'owl-year'">
															<app-owl-datetime-picker [mode]="'year'" [appearance]="'outline'" [color]="'accent'" [owlFieldControl]="getFieldControl(child.field_name)" [label]="child.field_label" [placeholder]="child.field_placeholder"></app-owl-datetime-picker>
														</ng-container>

														<ng-container *ngSwitchCase="'owl-time'">
															<app-owl-datetime-picker [mode]="'time'" [appearance]="'outline'" [color]="'accent'" [owlFieldControl]="getFieldControl(child.field_name)" [label]="child.field_label" [placeholder]="child.field_placeholder"></app-owl-datetime-picker>
														</ng-container>

														<ng-container *ngSwitchCase="'owl-datetime'">
															<app-owl-datetime-picker [mode]="'datetime'" [appearance]="'outline'" [color]="'accent'" [owlFieldControl]="getFieldControl(child.field_name)" [label]="child.field_label" [placeholder]="child.field_placeholder"></app-owl-datetime-picker>
														</ng-container>

														<ng-container *ngSwitchCase="'owl-daterange'">
															<app-owl-datetime-picker [mode]="'daterange'" [appearance]="'outline'" [color]="'accent'" [owlFieldControl]="getFieldControl(child.field_name)" [label]="child.field_label" [placeholder]="child.field_placeholder"></app-owl-datetime-picker>
														</ng-container>

														<ng-container *ngSwitchCase="'owl-timerange'">
															<app-owl-datetime-picker [mode]="'timerange'" [appearance]="'outline'" [color]="'accent'" [owlFieldControl]="getFieldControl(child.field_name)" [label]="child.field_label" [placeholder]="child.field_placeholder"></app-owl-datetime-picker>
														</ng-container>

														<ng-container *ngSwitchCase="'owl-datetimerange'">
															<app-owl-datetime-picker [mode]="'datetimerange'" [appearance]="'outline'" [color]="'accent'" [owlFieldControl]="getFieldControl(child.field_name)" [label]="child.field_label" [placeholder]="child.field_placeholder"></app-owl-datetime-picker>
														</ng-container>

														<ng-container *ngSwitchCase="'select'">
															<mat-form-field appearance="outline" [color]="'accent'">
																<mat-select [formControlName]="child.field_name" [placeholder]="child.field_placeholder || 'Please select a data'">
																	<ng-container *ngFor="let option of forms.value[child.field_name + '_options']['items']; let optionIndex = index;">
																		<mat-option [value]="option.uuid">{{ option.value }}</mat-option>
																	</ng-container>
																</mat-select>
															</mat-form-field>
														</ng-container>

													</ng-container>

												</ng-container>

											</ng-container>

										</div>

									</ng-container>

								</ng-container>

							</ng-container>

							<!-- Field`s unique error -->
							<ng-container *ngIf="(uniqueFalseCheckField.hasOwnProperty(field.name_field) && uniqueFalseCheckField[field.name_field]['value'] && (field.field_type !== 'hidden'))">
								<small class="text-red-500">{{ uniqueFalseCheckField[field.name_field]['error_message'] }}</small>
								<br>
							</ng-container>

							<!-- Field`s errors message -->
							<ng-container *ngIf="(field.error_message && (field.error_message.length > 0) && (field.field_type !== 'hidden') && (forms.get(field.field_name)?.invalid && (forms.get(field.field_name)?.dirty || forms.get(field.field_name)?.touched)))">
								<small class="text-red-500">{{ field.error_message }}</small>
								<br>
							</ng-container>

							<!-- Field`s description -->
							<ng-container *ngIf="(field.description && (field.description.length > 0) && (field.field_type !== 'hidden'))">
								<span>{{ field.description }}</span>
							</ng-container>

						</div>
					</ng-container>

					<!-- Below form -->
					<div class="below-form">
						<mat-divider></mat-divider>

						<div class="flex justify-center gap-4 mt-7">
							<button mat-stroked-button class="flex-initial w-32" [color]="'warn'">Cancel</button>
							<button mat-raised-button class="flex-initial w-32" [color]="'accent'">Save</button>
						</div>
					</div>

				</ng-container>

			</form>

		</ng-container>

	</mat-card-content>
</mat-card>